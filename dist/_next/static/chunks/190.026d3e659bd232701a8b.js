(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[190],{"7au1":function(e,n,a){"use strict";a.r(n);var t,r=a("q1tI"),o=a("o0o1"),i=a.n(o),l=a("HaE+"),u=(a("nX5y"),a("smsc")),p=a("ThKj"),s=a("rePB"),d=a("KQm4"),c=(a("PMha"),a("cUqQ"),a("5TJ6"),a("jWP/"),a("iMsr"),a("mbJ9")),m=a.n(c),f=a("mXS1"),b=a("kiHV"),g=a.n(b);function y(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function O(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?y(Object(a),!0).forEach((function(n){Object(s.a)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var h={Dashboard:{Tabs:[{Name:"Toolbars",Toolbars:["CellSummary"]}]},CellSummary:{CellSummaryOperationDefinitions:[{OperationName:"Oldest",OperationFunction:"OldestOperatioFunction"}],SummaryOperation:"Min"}},v=function(){var e=Object(l.a)(i.a.mark((function e(n,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={primaryKey:"OrderId",userName:"Demo User",adaptableId:"Cell Summary Demo",userFunctions:[{type:"CellSummaryOperationFunction",name:"OldestOperatioFunction",handler:function(e){var n=[];if(e.selectedCellInfo.Columns.filter((function(e){return"Date"===e.DataType})).forEach((function(a){var t=e.selectedCellInfo.GridCells.filter((function(e){return e.columnId==a.ColumnId})).map((function(e){return e.rawValue}));n.push.apply(n,Object(d.a)(t))})),n.length>0){var a=n.sort((function(e,n){return new Date(e).getTime()-new Date(n).getTime()}));return new Date(a[0]).toLocaleDateString()}}}],predefinedConfig:h,vendorGrid:O(O({},{columnDefs:n,rowData:a,enableRangeSelection:!0,sideBar:!0,suppressMenuHide:!0,autoGroupColumnDef:{sortable:!0},columnTypes:{abColDefNumber:{},abColDefString:{},abColDefBoolean:{},abColDefDate:{},abColDefObject:{},abColDefNumberArray:{}}}),{},{modules:f.a}),plugins:[g()()]},e.next=4,m.a.init(r);case 4:return t=e.sent,e.abrupt("return",{adaptableOptions:r,adaptableApi:t});case 6:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),C=Object(l.a)(i.a.mark((function e(){var n,a,t,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new p.a).setUpAgGridLicence(),a=JSON.parse(JSON.stringify(u)),n.convertExcelData(a),t=n.getBasicNorthwindColumnSchema(),e.next=7,v(t,a);case 7:return r=e.sent,o=r.adaptableOptions,r.adaptableApi,o.vendorGrid.onGridReady=function(e){e.columnApi.autoSizeAllColumns(),setTimeout((function(){return e.columnApi.autoSizeAllColumns()}),1),e.api.addEventListener("newColumnsLoaded",(function(){e.columnApi.autoSizeAllColumns()})),e.api.closeToolPanel()},e.abrupt("return",{code:"import '@adaptabletools/adaptable/index.css';\nimport '@adaptabletools/adaptable/themes/dark.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-grid.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-theme-balham.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-theme-balham-dark.css';\nimport Adaptable from '@adaptabletools/adaptable/agGrid';\nimport { GridOptions } from '@ag-grid-community/all-modules';\nimport {\n  AdaptableOptions,\n  PredefinedConfig,\n  AdaptableApi,\n  SelectedCellInfo,\n} from '@adaptabletools/adaptable/types';\nimport { AllEnterpriseModules } from '@ag-grid-enterprise/all-modules';\nimport finance from '@adaptabletools/adaptable-plugin-finance';\n\nvar adaptableApi: AdaptableApi;\n\nconst demoConfig: PredefinedConfig = {\n  Dashboard: {\n    Tabs: [\n      {\n        Name: 'Toolbars',\n        Toolbars: ['CellSummary'],\n      },\n    ],\n  },\n  CellSummary: {\n    CellSummaryOperationDefinitions: [\n      {\n        OperationName: 'Oldest',\n        OperationFunction: 'OldestOperatioFunction',\n      },\n    ],\n\n    SummaryOperation: 'Min',\n  },\n} as PredefinedConfig;\n\nexport default async (columnDefs: any[], rowData: any[]) => {\n  const gridOptions: GridOptions = {\n    columnDefs,\n    rowData,\n    enableRangeSelection: true,\n    sideBar: true,\n    suppressMenuHide: true,\n    autoGroupColumnDef: {\n      sortable: true,\n    },\n    columnTypes: {\n      abColDefNumber: {},\n      abColDefString: {},\n      abColDefBoolean: {},\n      abColDefDate: {},\n      abColDefObject: {},\n      abColDefNumberArray: {},\n    },\n  };\n\n  const adaptableOptions: AdaptableOptions = {\n    primaryKey: 'OrderId',\n    userName: 'Demo User',\n    adaptableId: 'Cell Summary Demo',\n    userFunctions: [\n      {\n        type: 'CellSummaryOperationFunction',\n        name: 'OldestOperatioFunction',\n        handler(operationParam) {\n          let dateValues: Date[] = [];\n          operationParam.selectedCellInfo.Columns.filter(\n            c => c.DataType === 'Date'\n          ).forEach(dc => {\n            let gridCells = operationParam.selectedCellInfo.GridCells.filter(\n              gc => gc.columnId == dc.ColumnId\n            ).map(gc => gc.rawValue);\n            dateValues.push(...gridCells);\n          });\n          if (dateValues.length > 0) {\n            const sortedDates = dateValues.sort((a, b) => {\n              return new Date(a).getTime() - new Date(b).getTime();\n            });\n            return new Date(sortedDates[0]).toLocaleDateString();\n          }\n        },\n      },\n    ],\n    predefinedConfig: demoConfig,\n    vendorGrid: { ...gridOptions, modules: AllEnterpriseModules },\n    plugins: [finance()],\n  };\n  adaptableApi = await Adaptable.init(adaptableOptions);\n\n  return { adaptableOptions, adaptableApi };\n};\n"});case 12:case"end":return e.stop()}}),e)})));n.default=function(e){return Object(r.useEffect)((function(){C().then((function(n){e.onReady&&e.onReady(n)}))}),[]),null}},gxmM:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AdaptablePlugin=void 0;var t=a("mrSG"),r=function(){function e(e){this.pluginId="",this.options=e,this.values={}}return e.prototype.registerProperty=function(e,n){this.values[e]=n},e.prototype.getProperty=function(e){var n=this;return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];var o=n.values[e];if(o)return o.apply(void 0,t.__spread(a))}},e.prototype.hasProperty=function(e){return!!this.values[e]},e.prototype.beforeInit=function(e){},e.prototype.afterInitOptions=function(e,n){},e.prototype.afterInitApi=function(e,n){},e.prototype.afterInitServices=function(e){},e.prototype.afterInitStrategies=function(e,n){},e.prototype.afterInit=function(e){},e.prototype.reduxMiddleware=function(e){},e.prototype.onStoreEvent=function(e,n,a){},e.prototype.onAdaptableReady=function(e,n){},e}();n.AdaptablePlugin=r},kiHV:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a("mrSG"),r=a("rat6"),o=a("z1Bd"),i=a("xkkb"),l=a("uGiK");i.version!==l.default&&console.warn('\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n!!!!!!! "@adaptabletools/adaptable-plugin-finance" (v @'+i.version+') and "@adaptabletools/adaptable" (v @'+l.default+") have different versions - they should have the exact same version.\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n");var u=function(e){return e.length?e.reduce((function(e,n){return e+n})):0},p=function(e){var n=e.allValues;return 1==e.distinctCount?n[0]:""},s=function(e){var n=e.numericValues;if(2==e.numericColumns.length)return"";for(var a=[],t=[],r=0;r<n.length;r++)if(r%2===0)a.push(n[r]);else{var i=n[r]*n[r-1];t.push(i)}var l=u(a),p=u(t);return o.Helper.RoundNumberTo4dp(p/l)},d=function(e){var n=e.numericValues;if(2!=e.numericColumns.length||n.length%2!=0)return"";for(var a=[],t=[],r=[],o=n.length/2,i=0;i<o;i++){var l=n[i];a.push(l);var p=n[i+o];t.push(p),r.push(l*p)}var s=u(a);return u(r)/s},c={},m=function(e){function n(n){var a=e.call(this,n)||this;return a.pluginId="finance",a.options=t.__assign(t.__assign({},c),n),a}return t.__extends(n,e),n.prototype.onAdaptableReady=function(e){var n={OptionalSummaryOperations:[{OperationName:"VWAP",OperationFunction:"calculateVwap"},{OperationName:"Only",OperationFunction:"calculateOnly"},{OperationName:"Weighted Avg",OperationFunction:"calculateWeightedAverage"}]};e.adaptableOptions.userFunctions=e.adaptableOptions.userFunctions||[],e.adaptableOptions.userFunctions.push({type:"CellSummaryOperationFunction",name:"calculateVwap",handler:s}),e.adaptableOptions.userFunctions.push({type:"CellSummaryOperationFunction",name:"calculateOnly",handler:p}),e.adaptableOptions.userFunctions.push({type:"CellSummaryOperationFunction",name:"calculateWeightedAverage",handler:d}),e.api.pluginsApi.registerPlugin(this.pluginId,n),e.api.cellSummaryApi.addCellSummaryOperationDefinitions(n.OptionalSummaryOperations)},n}(r.AdaptablePlugin);n.default=function(e){return new m(e)}},rat6:function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=a("gxmM");Object.defineProperty(n,"AdaptablePlugin",{enumerable:!0,get:function(){return t.AdaptablePlugin}})},xkkb:function(e){e.exports=JSON.parse('{"_from":"@adaptabletools/adaptable-plugin-finance@^7.2.19","_id":"@adaptabletools/adaptable-plugin-finance@7.2.19","_inBundle":false,"_integrity":"sha512-rE3u8z8aJPFBpu61axPnMyCVcRWrFFReyWYrUGh1kZe2dA+/6z8/IAqxMGtlUv/QoPy9Ey9Ad6qmgJce1EqSCw==","_location":"/@adaptabletools/adaptable-plugin-finance","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"@adaptabletools/adaptable-plugin-finance@^7.2.19","name":"@adaptabletools/adaptable-plugin-finance","escapedName":"@adaptabletools%2fadaptable-plugin-finance","scope":"@adaptabletools","rawSpec":"^7.2.19","saveSpec":null,"fetchSpec":"^7.2.19"},"_requiredBy":["/"],"_resolved":"https://registry.adaptabletools.com/@adaptabletools%2fadaptable-plugin-finance/-/adaptable-plugin-finance-7.2.19.tgz","_shasum":"dbb1b4e6433a50a6b1f188e31d0b0ab3fce10525","_spec":"@adaptabletools/adaptable-plugin-finance@^7.2.19","_where":"/home/runner/work/adaptable-demo/adaptable-demo/demo","author":{"name":"Jonny Wolfson","email":"jonny.wolfson@adaptabletools.com"},"bundleDependencies":false,"dependencies":{"@adaptabletools/adaptable":"7.2.19"},"deprecated":false,"description":"","homepage":"http://www.adaptabletools.com/","main":"src/index.js","name":"@adaptabletools/adaptable-plugin-finance","publishConfig":{"registry":"https://registry.adaptabletools.com"},"version":"7.2.19"}')}}]);