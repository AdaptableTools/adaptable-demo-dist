(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[237],{Pufs:function(t,e,n){"use strict";n.r(e);var a,i=n("q1tI"),o=n("o0o1"),r=n.n(o),d=n("HaE+"),s=(n("nX5y"),n("smsc")),u=n("ThKj"),l=n("rePB"),p=(n("PMha"),n("cUqQ"),n("5TJ6"),n("jWP/"),n("iMsr"),n("mbJ9")),c=n.n(p),m=n("mXS1");function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){Object(l.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=function(){var t=Object(d.a)(r.a.mark((function t(e,n){var i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={primaryKey:"OrderId",userName:"Demo User",adaptableId:"Audit Event Demo",auditOptions:{auditCellEdits:{auditAsEvent:!0},auditFunctionsApplied:{auditAsEvent:!0}},vendorGrid:A(A({},{columnDefs:e,rowData:n,enableRangeSelection:!0,sideBar:!0,suppressMenuHide:!0,autoGroupColumnDef:{sortable:!0}}),{},{modules:m.a})},t.next=4,c.a.init(i);case 4:return(a=t.sent).auditEventApi.on("AuditCellEdited",(function(t){console.log(t.data[0].id)})),a.auditEventApi.on("AuditFunctionApplied",(function(t){console.log(t.data[0].id)})),t.abrupt("return",{adaptableOptions:i,adaptableApi:a});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=Object(d.a)(r.a.mark((function t(){var e,n,a,i,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new u.a).setUpAgGridLicence(),n=JSON.parse(JSON.stringify(s)),e.convertExcelData(n),a=e.getBasicNorthwindColumnSchema(),t.next=7,g(a,n);case 7:return i=t.sent,o=i.adaptableOptions,i.adaptableApi,o.vendorGrid.onGridReady=function(t){t.columnApi.autoSizeAllColumns(),setTimeout((function(){return t.columnApi.autoSizeAllColumns()}),1),t.api.addEventListener("newColumnsLoaded",(function(){t.columnApi.autoSizeAllColumns()})),t.api.closeToolPanel()},t.abrupt("return",{unload:function(){o.auditOptions=void 0},code:"import '@adaptabletools/adaptable/index.css';\nimport '@adaptabletools/adaptable/themes/dark.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-grid.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-theme-balham.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-theme-balham-dark.css';\nimport Adaptable from '@adaptabletools/adaptable/agGrid';\nimport { GridOptions } from '@ag-grid-community/all-modules';\nimport {\n  AdaptableOptions,\n  AdaptableApi,\n  AuditLogEventArgs,\n  DataChangedDetails,\n} from '@adaptabletools/adaptable/types';\nimport { AllEnterpriseModules } from '@ag-grid-enterprise/all-modules';\n\nvar adaptableApi: AdaptableApi;\n\nexport default async (columnDefs: any[], rowData: any[]) => {\n  const gridOptions: GridOptions = {\n    columnDefs,\n    rowData,\n    enableRangeSelection: true,\n    sideBar: true,\n    suppressMenuHide: true,\n    autoGroupColumnDef: {\n      sortable: true,\n    },\n  };\n\n  const adaptableOptions: AdaptableOptions = {\n    primaryKey: 'OrderId',\n    userName: 'Demo User',\n    adaptableId: 'Audit Event Demo',\n    auditOptions: {\n      auditCellEdits: {\n        auditAsEvent: true,\n      },\n      auditFunctionsApplied: {\n        auditAsEvent: true,\n      },\n    },\n    vendorGrid: { ...gridOptions, modules: AllEnterpriseModules },\n  };\n  adaptableApi = await Adaptable.init(adaptableOptions);\n\n  adaptableApi.auditEventApi.on(\n    'AuditCellEdited',\n    (auditLogEventArgs: AuditLogEventArgs) => {\n      console.log(auditLogEventArgs.data[0].id);\n    }\n  );\n  adaptableApi.auditEventApi.on(\n    'AuditFunctionApplied',\n    (auditLogEventArgs: AuditLogEventArgs) => {\n      console.log(auditLogEventArgs.data[0].id);\n    }\n  );\n\n  return { adaptableOptions, adaptableApi };\n};\n"});case 12:case"end":return t.stop()}}),t)})));e.default=function(t){return Object(i.useEffect)((function(){f().then((function(e){t.onReady&&t.onReady(e)}))}),[]),null}}}]);