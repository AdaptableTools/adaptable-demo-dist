(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[211],{"2bik":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("mrSG"),r=t("NQ+5"),i=t("iTRm"),o=n.__importDefault(t("uGiK")),l=t("S98U");i.version!==o.default&&console.warn('\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n!!!!!!! "@adaptabletools/adaptable-plugin-master-detail-aggrid" (v @'+i.version+') and "@adaptabletools/adaptable" (v @'+o.default+") have different versions - they should have the exact same version.\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n");var d=function(e){function a(a){var t=e.call(this,a)||this;return t.pluginId="master-detail-aggrid",t.pluginOptions=a,t}return n.__extends(a,e),a.prototype.beforeInit=function(e){e.vendorGrid.detailCellRenderer="adaptableDetailCellRenderer",e.vendorGrid.components=e.vendorGrid.components||{},e.vendorGrid.components.adaptableDetailCellRenderer=l.DetailCellRenderer},a}(r.AdaptablePlugin);a.default=function(e){return new d(e)}},"NQ+5":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),t("mrSG").__exportStar(t("rat6"),a)},S98U:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.DetailCellRenderer=void 0;var n=t("mrSG"),r=t("qrnb"),i=t("ydiI"),o=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return a.adaptableDestroyed=!1,a}return n.__extends(a,e),a.prototype.init=function(a){var t=this,r=a.detailGridOptions.onGridReady;a.detailGridOptions.onGridReady=function(e){return n.__awaiter(t,void 0,void 0,(function(){var t,o,l,d,s,p,u,c,f,b,m;return n.__generator(this,(function(g){switch(g.label){case 0:return this.adaptableApi||this.adaptableDestroyed?[2]:(r&&r(e),t=a.api.__adaptable,o=t.getPlugin("master-detail-aggrid").options,l=o.onDetailInit,d=o.detailAdaptableOptions,s=this.detailGridOptions,p=this.eDetailGrid,u="adaptable-detail-"+a.rowIndex,(c=document.createElement("div")).id=u,null===(m=p.parentNode)||void 0===m||m.prepend(c),f="string"===typeof d.predefinedConfig?{}:d.predefinedConfig,b=this,[4,i.Adaptable.init(n.__assign(n.__assign({adaptableId:t.adaptableOptions.adaptableId+" Detail"},d),{predefinedConfig:n.__assign(n.__assign({},f),{Dashboard:n.__assign({IsCollapsed:!0},f.Dashboard)}),containerOptions:n.__assign(n.__assign({},d.containerOptions),{adaptableContainer:u,vendorContainer:p}),vendorGrid:s}))]);case 1:return b.adaptableApi=g.sent(),l&&l(this.adaptableApi),[2]}}))}))},e.prototype.init.call(this,a)},a.prototype.destroy=function(){this.adaptableDestroyed=!0,this.adaptableApi&&(this.adaptableApi.destroy(),this.adaptableApi=void 0),e.prototype.destroy.call(this)},a}(r.DetailCellRenderer);a.DetailCellRenderer=o},bXzA:function(e,a,t){"use strict";t.r(a);var n,r=t("q1tI"),i=t("o0o1"),o=t.n(i),l=t("HaE+"),d=(t("nX5y"),t("ThKj")),s=t("rePB"),p=(t("PMha"),t("5TJ6"),t("jWP/"),t("mbJ9")),u=t.n(p),c=t("mXS1"),f=t("2bik"),b=t.n(f);function m(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?m(Object(t),!0).forEach((function(a){Object(s.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var y={},h=function(){var e=Object(l.a)(o.a.mark((function e(a,t,r){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={primaryKey:"team",userName:"Demo User",adaptableId:"Master Detail Demo - Master Grid",predefinedConfig:y,vendorGrid:g(g({},{columnDefs:a,rowData:r,masterDetail:!0,detailCellRendererParams:{detailGridOptions:{columnDefs:t},getDetailRowData:function(e){e.successCallback(e.data.squad)}},isRowMaster:function(e){return!!e&&e.squad.length>0},enableRangeSelection:!0,suppressColumnVirtualisation:!1,suppressMenuHide:!0}),{},{modules:c.a}),plugins:[b()({detailAdaptableOptions:{primaryKey:"name",adaptableId:"Master Detail Demo - Detail Grid",predefinedConfig:{ConditionalStyle:{ConditionalStyles:[{Style:{BackColor:"yellow"},Rule:{BooleanExpression:"[age] > 30"},Scope:{All:!0}}]}}},onDetailInit:function(e){}})]},e.next=4,u.a.init(i);case 4:return(n=e.sent).eventApi.on("SearchChanged",(function(e){"CurrentQuery"==e.searchChangedTrigger&&e.adaptableSearchState.currentQuery})),e.abrupt("return",{adaptableOptions:i,adaptableApi:n});case 7:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),v=t("1OyB"),C=t("vuIU"),D=function(){function e(){Object(v.a)(this,e)}return Object(C.a)(e,[{key:"getMasterFootballSchema",value:function(){var e=[];return e.push({headerName:"Team",field:"team",editable:!1,filter:!1,cellRenderer:"agGroupCellRenderer",type:"abColDefString"}),e.push({headerName:"Country",field:"country",editable:!1,filter:!0,type:"abColDefString"}),e.push({headerName:"Manager",field:"manager",editable:!1,filter:!0,type:"abColDefString"}),e.push({headerName:"Stadium",field:"stadium",editable:!1,filter:!0,type:"abColDefString"}),e.push({headerName:"Capacity",field:"capacity",editable:!1,filter:!0,cellClass:"number-cell",type:"abColDefNumber"}),e.push({headerName:"Year Established",field:"yearEstablished",filter:!0,editable:!0,cellClass:"number-cell",type:"abColDefNumber"}),e}},{key:"getDetailGridOptionsFootball",value:function(){return{columnDefs:this.getDetailsFootballSchema()}}},{key:"getDetailsFootballSchema",value:function(){var e=[];return e.push({headerName:"Name",field:"name",filter:!0,editable:!0,sortable:!0,cellClass:"number-cell",type:"abColDefNumber"}),e.push({headerName:"Age",field:"age",filter:!0,editable:!0,sortable:!0,cellClass:"number-cell",type:"abColDefNumber"}),e.push({headerName:"Position",field:"position",filter:!0,sortable:!0,editable:!0,type:"abColDefString"}),e.push({headerName:"Country",field:"country",editable:!1,filter:!0,type:"abColDefString"}),e}},{key:"getFootballData",value:function(){var e=[];e.push({team:"Liverpool",country:"England",stadium:"Anfield",capacity:48e3,yearEstablished:1896,manager:"Juergen Klopp",squad:[{age:26,name:"Alisson Becker",position:"Goalkeeper",country:"Brazil"},{age:20,name:"Trent Alexander Arnold",position:"Defender",country:"England"},{age:28,name:"Virgil van Dijk",position:"Defender",country:"Holland"},{age:29,name:"Jordan Henderson",position:"Midfielder",country:"England"},{age:32,name:"Mo Salah",position:"Striker",country:"Egypt"}]});e.push({team:"Barcelona",country:"Spain",stadium:"Nou Camp",capacity:99354,yearEstablished:1875,manager:"Ernesto Valverde",squad:[{age:27,name:"Marc-Andr\xe9 ter Stegen",position:"Goalkeeper",country:"Germany"},{age:32,name:"Gerard Piqu\xe9",position:"Defender",country:"Spain"},{age:27,name:"Phillipe Coutinho",position:"Midfielder",country:"Brazil"},{age:32,name:"Lionel Messi",position:"Forward",country:"Argentina"}]});return e.push({team:"Real Madrid",country:"Spain",stadium:"Bernabou",capacity:857673,yearEstablished:1906,manager:"Zinadine Zidane",squad:[]}),e}}]),e}(),A=Object(l.a)(o.a.mark((function e(){var a,t,n,r,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(new d.a).setUpAgGridLicence(),a=new D,t=a.getMasterFootballSchema(),n=a.getDetailsFootballSchema(),r=a.getFootballData(),e.next=8,h(t,n,r);case 8:return i=e.sent,l=i.adaptableOptions,i.adaptableApi,l.vendorGrid.onGridReady=function(e){e.columnApi.autoSizeAllColumns(),setTimeout((function(){return e.columnApi.autoSizeAllColumns()}),1),e.api.addEventListener("newColumnsLoaded",(function(){e.columnApi.autoSizeAllColumns()})),e.api.closeToolPanel()},e.abrupt("return",{code:"import '@adaptabletools/adaptable/index.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-grid.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-theme-balham.css';\nimport Adaptable from '@adaptabletools/adaptable/agGrid';\nimport { GridOptions } from '@ag-grid-community/all-modules';\nimport {\n  AdaptableOptions,\n  PredefinedConfig,\n  AdaptableApi,\n  SearchChangedInfo,\n} from '@adaptabletools/adaptable/types';\nimport { AllEnterpriseModules } from '@ag-grid-enterprise/all-modules';\nimport masterDetailAgGridPlugin from '@adaptabletools/adaptable-plugin-master-detail-aggrid';\n\nvar adaptableApi: AdaptableApi;\n\nconst demoConfig: PredefinedConfig = {} as PredefinedConfig;\nvar currentquery: string | undefined = '';\n\nexport default async (\n  columnDefs: any[],\n  detailColumnDefs: any[],\n  rowData: any[]\n) => {\n  const gridOptions: GridOptions = {\n    columnDefs,\n    rowData,\n    masterDetail: true,\n    detailCellRendererParams: {\n      // provide detail column defs\n      detailGridOptions: {\n        columnDefs: detailColumnDefs,\n      },\n      // extract and supply row data for detail\n      getDetailRowData: function(params: any) {\n        params.successCallback(params.data.squad);\n      },\n    },\n    isRowMaster: function(dataItem) {\n      return dataItem ? dataItem.squad.length > 0 : false;\n    },\n    enableRangeSelection: true,\n    suppressColumnVirtualisation: false,\n    suppressMenuHide: true,\n  };\n\n  const adaptableOptions: AdaptableOptions = {\n    primaryKey: 'team',\n    userName: 'Demo User',\n    adaptableId: 'Master Detail Demo - Master Grid',\n    predefinedConfig: demoConfig,\n    vendorGrid: { ...gridOptions, modules: AllEnterpriseModules },\n    plugins: [\n      masterDetailAgGridPlugin({\n        detailAdaptableOptions: {\n          primaryKey: 'name',\n          adaptableId: 'Master Detail Demo - Detail Grid',\n          predefinedConfig: {\n            ConditionalStyle: {\n              ConditionalStyles: [\n                {\n                  Style: {\n                    BackColor: 'yellow',\n                  },\n                  Rule: { BooleanExpression: '[age] > 30' },\n                  Scope: {\n                    All: true,\n                  },\n                },\n              ],\n            },\n          },\n        },\n        onDetailInit(api: AdaptableApi) {\n          if (currentquery) {\n            // note: we have NO way currently of testing if a Query is valid through the api\n            //  api.queryApi.setCurrentQuery(currentquery);\n          } else {\n            //   api.queryApi.clearCurrentQuery();\n          }\n        },\n      }),\n    ],\n  };\n  adaptableApi = await Adaptable.init(adaptableOptions);\n\n  adaptableApi.eventApi.on(\n    'SearchChanged',\n    (searchChangedInfo: SearchChangedInfo) => {\n      if (searchChangedInfo.searchChangedTrigger == 'CurrentQuery') {\n        currentquery = searchChangedInfo.adaptableSearchState.currentQuery;\n      }\n    }\n  );\n\n  return { adaptableOptions, adaptableApi };\n};\n"});case 13:case"end":return e.stop()}}),e)})));a.default=function(e){return Object(r.useEffect)((function(){A().then((function(a){e.onReady&&e.onReady(a)}))}),[]),null}},gxmM:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.AdaptablePlugin=void 0;var n=t("mrSG"),r=function(){function e(e){this.pluginId="",this.options=e,this.values={}}return e.prototype.registerProperty=function(e,a){this.values[e]=a},e.prototype.getProperty=function(e){var a=this;return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=a.values[e];if(i)return i.apply(void 0,n.__spread(t))}},e.prototype.hasProperty=function(e){return!!this.values[e]},e.prototype.beforeInit=function(e){},e.prototype.afterInitOptions=function(e,a){},e.prototype.afterInitApi=function(e,a){},e.prototype.afterInitServices=function(e){},e.prototype.afterInitModules=function(e,a){},e.prototype.afterInit=function(e){},e.prototype.reduxMiddleware=function(e){},e.prototype.onStoreEvent=function(e,a,t){},e.prototype.onAdaptableReady=function(e,a){},e}();a.AdaptablePlugin=r},iTRm:function(e){e.exports=JSON.parse('{"_from":"@adaptabletools/adaptable-plugin-master-detail-aggrid@9.0.0-canary.6","_id":"@adaptabletools/adaptable-plugin-master-detail-aggrid@9.0.0-canary.6","_inBundle":false,"_integrity":"sha512-Nf4J6ploJoaMr5AiqwXqhxrpG2UUzp/jOZGvb6aXiA/7v2HxIuPLby2ltzo37dDzePEvC08JfEU9lp4IncqvAQ==","_location":"/@adaptabletools/adaptable-plugin-master-detail-aggrid","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@adaptabletools/adaptable-plugin-master-detail-aggrid@9.0.0-canary.6","name":"@adaptabletools/adaptable-plugin-master-detail-aggrid","escapedName":"@adaptabletools%2fadaptable-plugin-master-detail-aggrid","scope":"@adaptabletools","rawSpec":"9.0.0-canary.6","saveSpec":null,"fetchSpec":"9.0.0-canary.6"},"_requiredBy":["/"],"_resolved":"https://registry.adaptabletools.com/@adaptabletools%2fadaptable-plugin-master-detail-aggrid/-/adaptable-plugin-master-detail-aggrid-9.0.0-canary.6.tgz","_shasum":"41b08da72c3c9d27e7176c75332ea6e908ce56ef","_spec":"@adaptabletools/adaptable-plugin-master-detail-aggrid@9.0.0-canary.6","_where":"/home/runner/work/adaptable-demo/adaptable-demo/demo","author":{"name":"Jonny Wolfson","email":"jonny.wolfson@adaptabletools.com"},"bundleDependencies":false,"dependencies":{"@adaptabletools/adaptable":"9.0.0-canary.6"},"deprecated":false,"description":"","homepage":"http://www.adaptabletools.com/","main":"src/index.js","name":"@adaptabletools/adaptable-plugin-master-detail-aggrid","peerDependencies":{"@ag-grid-enterprise/master-detail":">=25.0.1","@ag-grid-community/all-modules":">=25.0.1"},"publishConfig":{"registry":"https://registry.adaptabletools.com"},"version":"9.0.0-canary.6"}')},rat6:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.AdaptablePlugin=void 0;var n=t("gxmM");Object.defineProperty(a,"AdaptablePlugin",{enumerable:!0,get:function(){return n.AdaptablePlugin}})}}]);