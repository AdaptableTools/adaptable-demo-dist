_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[177],{"9BFY":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),l=n("d3qH"),o=r.a.createElement;t.default=function(){return o(l.a,{demo:Promise.all([n.e(0),n.e(8),n.e(7),n.e(9),n.e(1),n.e(312)]).then(n.bind(null,"L21H")),pageTitle:"User Query Functions Demo",description:o("div",null,o("p",null,"The AdapTable parser ships with a"," ",o("a",{href:"https://docs.adaptabletools.com/docs/adaptable-parser/query/#appendix--expression-functions",target:"_blank"},"very large number")," ","of Expression Functions that can be used in a query."),o("p",null,"Users can add to this at run-time by providing"," ",o("a",{href:"https://docs.adaptabletools.com/docs/adaptable-parser/query/#custom-expression-functions",target:"_blank"},"custom expresion functions")," ","which AdapTable will invoke the query is being evaluated."),o("p",null,"The main element to be provided is a ",o("b",null,"handler")," property that wraps the actual JavaScript function."),o("p",null,"Additionally ",o("i",null,"description"),", ",o("i",null,"signature")," and"," ",o("i",null,"examples")," properties can be provided which are displayed in the Expression Editor to help the run-time user."),o("p",null,"Note the important ",o("b",null,"isPredicate")," property; if set to"," ",o("i",null,"true"),", the Expression Function can be used as the main part of a Query (which can only return booleans)."),o("p",null,"In this Demo we provide 2 custom Expression Functions:"),o("ul",null,o("li",null,o("p",null,o("b",null,"IN_BUSINESS_YEAR")," - a ",o("b",null,"Predicate")," user function which checks whether or not a given date is in the Current Business Year."),o("p",null,"Here we use it inside the"," ",o("a",{href:"./aggridcurrentquerydemo",target:"_blank"},"Query")," ","we are running: ('IN_BUSINESS_YEAR([OrderDate]) AND IN_BUSINESS_YEAR([ShippedDate])')."),o("p",null,"The query returns only rows where both the Order and Shipped Dates are in the current business year.")),o("li",null,o("p",null,o("b",null,"GBP_PRICE")," - a ",o("b",null,"Non Predicate")," user function which returns the GBP conversion for a USD currency value."),o("p",null,"(The function uses a mock service and also passes in the Shipping Details (which we get from the"," ",o("a",{href:"https://docs.adaptabletools.com/api/expressioncontext",target:"_blank"},"Context")," ","in the handler) in order to arrive at the fictitious price.)"),o("p",null,"The user function is used to create 2"," ",o("a",{href:"../../column/aggridcalculatedcolumndemo",target:"_blank"},"Calculated Columns")," ",":",o("i",null,"OrderCostGBP"),", ",o("i",null,"PackageCostGBP"),"."),o("p",null,"Each Calculated Column contains an Expression which is passed the equivalent USD column as the sole input."),o("p",null,"Note also that we create a"," ",o("a",{href:"../../style/aggridformatcolumndemo",target:"_blank"},"Format Column")," ","with the Scope of the 2 columns that adds a '\xa3' and formats the digits.")))),helpResources:o("div",null,o("a",{href:"https://docs.adaptabletools.com/docs/adaptable-parser/query",target:"_blank"},"Adaptable Expression")," ","|"," ",o("a",{href:"https://docs.adaptabletools.com/docs/adaptable-modules/query-module",target:"_blank"},"Query Module")," ")})}},eviM:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/queries/aggriduserqueryfunctionsdemo",function(){return n("9BFY")}])}},[["eviM",2,0,6,3,4,5,1]]]);