(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{"/Kwv":function(n,t,e){"use strict";e.r(t);var o,a=e("q1tI"),l=e("9Jkg"),i=e.n(l),r=(e("nX5y"),e("smsc")),u=e("ThKj"),d=e("hfKm"),m=e.n(d),s=e("2Eek"),c=e.n(s),p=e("XoMD"),C=e.n(p),f=e("Jo+v"),b=e.n(f),A=e("4mXO"),g=e.n(A),y=e("pLtp"),I=e.n(y),D=e("vYYK"),v=(e("PMha"),e("cUqQ"),e("5TJ6"),e("jWP/"),e("iMsr"),e("Mk/Z"),e("mbJ9")),w=e.n(v),O=e("mXS1");function h(n,t){var e=I()(n);if(g.a){var o=g()(n);t&&(o=o.filter((function(t){return b()(n,t).enumerable}))),e.push.apply(e,o)}return e}function M(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?h(Object(e),!0).forEach((function(t){Object(D.a)(n,t,e[t])})):C.a?c()(n,C()(e)):h(Object(e)).forEach((function(t){m()(n,t,b()(e,t))}))}return n}var k={ActionColumn:{ActionColumns:[{ColumnId:"Multiply",ButtonText:"Click",ShouldRenderPredicate:function(n){return"Margaret Peacock"!=n.rowData.Employee},RenderFunction:function(n){return n.rowData.ItemCost>75?'<button style="color:blue; font-weight:bold">Double</button>':'<button style="color:red; font-weight:bold; font-style:italic">Treble</button>'}},{ColumnId:"Plus",ButtonText:"+"},{ColumnId:"Minus",ButtonText:"-"},{ColumnId:"Action",ButtonText:"Delete Row"}]},Layout:{CurrentLayout:"Action Cols",Layouts:[{Columns:["OrderId","ItemCost","Multiply","CompanyName","Plus","ItemCount","Minus","Employee","Action"],ColumnSorts:[],Name:"Action Cols"}]}},E=function(){var n=new u.a;n.setUpAgGridLicence();var t=JSON.parse(i()(r));n.convertExcelDates(t);var e=function(n,t){var e={primaryKey:"OrderId",userName:"Demo User",adaptableId:"Action Column Demo",predefinedConfig:k,vendorGrid:M({},{columnDefs:n,rowData:t,enableRangeSelection:!0,sideBar:!0,suppressMenuHide:!0,floatingFilter:!0,columnTypes:{abColDefNumber:{},abColDefString:{},abColDefBoolean:{},abColDefDate:{},abColDefObject:{},abColDefNumberArray:{}}},{modules:O.a})};return(o=w.a.init(e)).eventApi.on("ActionColumnClicked",(function(n){var t=n.data[0].id,e=t.rowData;if("Plus"==n.data[0].id.actionColumn.ColumnId){var a=e.ItemCount;o.gridApi.setCellValue("ItemCount",a+1,t.primaryKeyValue,!0)}else if("Minus"==n.data[0].id.actionColumn.ColumnId){var l=e.ItemCount;o.gridApi.setCellValue("ItemCount",l-1,t.primaryKeyValue,!0)}else if("Multiply"==n.data[0].id.actionColumn.ColumnId){var i=e.ItemCost>75?2:3,r=e.ItemCost*i;r=Math.round(100*r)/100,o.gridApi.setCellValue("ItemCost",r,t.primaryKeyValue,!0)}else"Action"==n.data[0].id.actionColumn.ColumnId&&o.gridApi.deleteGridData([t.rowData])})),{adaptableOptions:e,adaptableApi:o}}(n.getBasicNorthwindColumnSchema(),t),a=e.adaptableOptions;e.adaptableApi;return a.vendorGrid.onGridReady=function(n){n.columnApi.autoSizeAllColumns(),setTimeout((function(){return n.columnApi.autoSizeAllColumns()}),1),n.api.addEventListener("newColumnsLoaded",(function(){n.columnApi.autoSizeAllColumns()})),n.api.closeToolPanel()},{code:"import '@adaptabletools/adaptable/index.css';\nimport '@adaptabletools/adaptable/themes/dark.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-grid.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-theme-balham.css';\nimport '@ag-grid-community/all-modules/dist/styles/ag-theme-balham-dark.css';\nimport './actioncolumn.css';\nimport '../../../../DemoPage/aggriddemo.css';\nimport Adaptable from '@adaptabletools/adaptable/agGrid';\nimport { GridOptions } from '@ag-grid-community/all-modules';\nimport {\n  AdaptableOptions,\n  PredefinedConfig,\n  AdaptableApi,\n  ActionColumnClickedEventArgs,\n  ActionColumnClickedInfo,\n} from '@adaptabletools/adaptable/types';\nimport { AllEnterpriseModules } from '@ag-grid-enterprise/all-modules';\n\nvar adaptableApi: AdaptableApi;\n\nconst demoConfig: PredefinedConfig = {\n  ActionColumn: {\n    ActionColumns: [\n      {\n        ColumnId: 'Multiply',\n        ButtonText: 'Click',\n        ShouldRenderPredicate: params => {\n          //   return params.rowData.counterparty != 'BNP';\n          return params.rowData.Employee != 'Margaret Peacock';\n        },\n        RenderFunction: params => {\n          return params.rowData.ItemCost > 75\n            ? '<button style=\"color:blue; font-weight:bold\">Double</button>'\n            : '<button style=\"color:red; font-weight:bold; font-style:italic\">Treble</button>';\n        },\n      },\n      {\n        ColumnId: 'Plus',\n        ButtonText: '+',\n      },\n      {\n        ColumnId: 'Minus',\n        ButtonText: '-',\n      },\n      {\n        ColumnId: 'Action',\n        ButtonText: 'Delete Row',\n      },\n    ],\n  },\n  Layout: {\n    CurrentLayout: 'Action Cols',\n    Layouts: [\n      {\n        Columns: [\n          'OrderId',\n          'ItemCost',\n          'Multiply',\n          'CompanyName',\n          'Plus',\n          'ItemCount',\n          'Minus',\n          'Employee',\n          'Action',\n        ],\n        ColumnSorts: [],\n        Name: 'Action Cols',\n      },\n    ],\n  },\n} as PredefinedConfig;\n\nexport default (columnDefs: any[], rowData: any[]) => {\n  const gridOptions: GridOptions = {\n    columnDefs,\n    rowData,\n    enableRangeSelection: true,\n    sideBar: true,\n    suppressMenuHide: true,\n    floatingFilter: true,\n    columnTypes: {\n      abColDefNumber: {},\n      abColDefString: {},\n      abColDefBoolean: {},\n      abColDefDate: {},\n      abColDefObject: {},\n      abColDefNumberArray: {},\n    },\n  };\n\n  const adaptableOptions: AdaptableOptions = {\n    primaryKey: 'OrderId',\n    userName: 'Demo User',\n    adaptableId: 'Action Column Demo',\n    predefinedConfig: demoConfig,\n    vendorGrid: { ...gridOptions, modules: AllEnterpriseModules },\n  };\n  adaptableApi = Adaptable.init(adaptableOptions);\n\n  adaptableApi.eventApi.on(\n    'ActionColumnClicked',\n    (actionColumnEventArgs: ActionColumnClickedEventArgs) => {\n      let actionColumnClickedInfo: ActionColumnClickedInfo =\n        actionColumnEventArgs.data[0].id;\n      let rowData: any = actionColumnClickedInfo.rowData;\n\n      if (actionColumnEventArgs.data[0].id.actionColumn.ColumnId == 'Plus') {\n        let itemCount = rowData.ItemCount;\n        adaptableApi.gridApi.setCellValue(\n          'ItemCount',\n          itemCount + 1,\n          actionColumnClickedInfo.primaryKeyValue,\n          true\n        );\n      } else if (\n        actionColumnEventArgs.data[0].id.actionColumn.ColumnId == 'Minus'\n      ) {\n        let itemCount = rowData.ItemCount;\n        adaptableApi.gridApi.setCellValue(\n          'ItemCount',\n          itemCount - 1,\n          actionColumnClickedInfo.primaryKeyValue,\n          true\n        );\n      } else if (\n        actionColumnEventArgs.data[0].id.actionColumn.ColumnId == 'Multiply'\n      ) {\n        let multiplier: number = rowData.ItemCost > 75 ? 2 : 3;\n        let newItemCost = rowData.ItemCost * multiplier;\n        newItemCost = Math.round(newItemCost * 100) / 100;\n        adaptableApi.gridApi.setCellValue(\n          'ItemCost',\n          newItemCost,\n          actionColumnClickedInfo.primaryKeyValue,\n          true\n        );\n      } else if (\n        actionColumnEventArgs.data[0].id.actionColumn.ColumnId == 'Action'\n      ) {\n        adaptableApi.gridApi.deleteGridData([actionColumnClickedInfo.rowData]);\n      }\n    }\n  );\n\n  return { adaptableOptions, adaptableApi };\n};\n"}};t.default=function(n){return Object(a.useEffect)((function(){var t=E();n.onReady&&n.onReady(t)}),[]),null}},"2Eek":function(n,t,e){n.exports=e("W7oM")},"7m0m":function(n,t,e){var o=e("Y7ZC"),a=e("uplh"),l=e("NsO/"),i=e("vwuL"),r=e("IP1Z");o(o.S,"Object",{getOwnPropertyDescriptors:function(n){for(var t,e,o=l(n),u=i.f,d=a(o),m={},s=0;d.length>s;)void 0!==(e=u(o,t=d[s++]))&&r(m,t,e);return m}})},W7oM:function(n,t,e){e("nZgG");var o=e("WEpk").Object;n.exports=function(n,t){return o.defineProperties(n,t)}},XoMD:function(n,t,e){n.exports=e("hYAz")},hYAz:function(n,t,e){e("7m0m"),n.exports=e("WEpk").Object.getOwnPropertyDescriptors},nZgG:function(n,t,e){var o=e("Y7ZC");o(o.S+o.F*!e("jmDH"),"Object",{defineProperties:e("fpC5")})},uplh:function(n,t,e){var o=e("ar/p"),a=e("mqlF"),l=e("5K7Z"),i=e("5T2Y").Reflect;n.exports=i&&i.ownKeys||function(n){var t=o.f(l(n)),e=a.f;return e?t.concat(e(n)):t}}}]);