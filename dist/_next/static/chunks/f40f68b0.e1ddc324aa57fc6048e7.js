(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0J2a":function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var n=a("mrSG"),o=a("RQz/"),i=a("ANjH"),d=a("bo1M"),u=(a("5HXA"),a("y95C")),c=a("+n69"),S=a("HIcg"),l=a("dmix"),s=a("zlA5"),C=a("PrKT"),E=a("gTHk"),T=a("SXKt"),g=a("w/DO"),p=a("OqMV"),A=a("6JtK"),L=a("gNwu"),_=a("RT5/"),y=a("6aYJ"),I=a("Z1Qa"),h=a("TGsM"),m=a("Ks25"),f=a("yXtV"),R=a("K32t"),O=a("5jLc"),D=a("3pac"),U=a("ZwC2"),P=a("cxeZ"),v=a("7kuG"),N=a("Wt6B"),b=a("ZiRr"),F=a("NfAX"),j=a("qj2e"),M=a("YnhX"),H=a("ZXb5"),V=a("UEjN"),G=a("0eAg"),w=a("FCAG"),x=a("jdvK"),Y=a("Bmoh"),k=a("oJdI"),B=a("plBP"),K=a("WumT"),Q=a("SoVx"),W=a("v4jD"),X=a("bfrN"),J=a("JWsD"),q=a("KcJn"),z=a("EiIT"),Z=a("HDsu"),$=a("GicI"),ee=a("qSqe"),te=a("0Pe9"),ae=a("7VOM"),re=a("nWPU"),ne=a("Y6J3"),oe=a("pBDx"),ie=a("fkJU"),de=a("MjQ7"),ue=a("fwGq"),ce=a("z1Bd"),Se=a("u/H1"),le=a("qN6A"),se=a("txn5"),Ce=a("U/tm"),Ee=a("NF7U"),Te=a("zwJd"),ge=a("RMNm"),pe=a("F9nB"),Ae=i.combineReducers({Grid:_.GridReducer,Popup:l.PopupReducer,System:y.SystemReducer,SystemStatus:z.SystemStatusReducer,TeamSharing:Z.TeamSharingReducer,Plugins:s.PluginsReducer,ActionColumn:V.ActionColumnReducer,Entitlements:J.EntitlementsReducer,NamedFilter:k.NamedFilterReducer,Glue42:te.Glue42Reducer,IPushPull:ee.IPushPullReducer,SparklineColumn:w.SparklineColumnReducer,SystemFilter:b.SystemFilterReducer,UserInterface:$.UserInterfaceStateReducer,CellSummary:q.CellSummaryReducer,AdvancedSearch:U.AdvancedSearchReducer,Alert:E.AlertReducer,Application:G.ApplicationReducer,BulkUpdate:g.BulkUpdateReducer,CalculatedColumn:A.CalculatedColumnReducer,Calendar:R.CalendarReducer,CellValidation:W.CellValidationReducer,Chart:C.ChartReducer,ColumnCategory:B.ColumnCategoryReducer,ColumnFilter:v.ColumnFilterReducer,ConditionalStyle:O.ConditionalStyleReducer,CustomSort:p.CustomSortReducer,Dashboard:K.DashboardReducer,DataSource:P.DataSourceReducer,Export:h.ExportReducer,FlashingCell:m.FlashingCellReducer,FormatColumn:M.FormatColumnReducer,FreeTextColumn:x.FreeTextColumnReducer,Layout:Y.LayoutReducer,PercentBar:X.PercentBarReducer,GradientColumn:H.GradientColumnReducer,PlusMinus:I.PlusMinusReducer,QuickSearch:D.QuickSearchReducer,Reminder:F.ReminderReducer,Shortcut:L.ShortcutReducer,SmartEdit:T.SmartEditReducer,Theme:j.ThemeReducer,ToolPanel:Q.ToolPanelReducer,UpdatedRow:f.UpdatedRowReducer,UserFilter:N.UserFilterReducer});t.RESET_STATE="RESET_STATE",t.INIT_STATE="INIT_STATE",t.LOAD_STATE="LOAD_STATE";var Le=((r={})[t.LOAD_STATE]=!0,r["@@INIT"]=!0,r["@@redux/init"]=!0,r[t.INIT_STATE]=!0,r[t.RESET_STATE]=!0,r);t.ResetUserData=function(){return{type:t.RESET_STATE}},t.InitState=function(){return{type:t.INIT_STATE}},t.LoadState=function(e){return{type:t.LOAD_STATE,State:e}};var _e=function(e,a){switch(a.type){case t.RESET_STATE:e.AdvancedSearch=void 0,e.Alert=void 0,e.BulkUpdate=void 0,e.CalculatedColumn=void 0,e.Calendar=void 0,e.CellValidation=void 0,e.ConditionalStyle=void 0,e.Chart=void 0,e.CustomSort=void 0,e.Dashboard.VisibleButtons=[],e.Dashboard=void 0,e.DataSource=void 0,e.Entitlements=void 0,e.Export=void 0,e.FlashingCell=void 0,e.FormatColumn=void 0,e.ColumnFilter.ColumnFilters=[],e.UserFilter.UserFilters=[],e.SystemFilter.SystemFilters=[],e.Grid=void 0,e.Layout=void 0,e.PlusMinus=void 0,e.QuickSearch=void 0,e.Shortcut=void 0,e.SmartEdit=void 0,e.CellSummary=void 0,e.Theme=void 0,e.IPushPull=void 0,e.Glue42=void 0,e.ToolPanel=void 0;break;case t.LOAD_STATE:var r=a.State;Object.keys(r).forEach((function(t){e[t]=r[t]}))}return Ae(e,a)},ye=function(e){var a,r=this;this.loadStartOnStartup=!0,this.on=function(e,t){return r.emitter.on(e,t)},this.onAny=function(e){return r.emitter.onAny(e)},this.emit=function(e,t){return r.emitter.emit(e,t)},this.emitter=new pe.default,a=Ce.AdaptableHelper.isConfigServerEnabled(e.adaptableOptions)?u.createEngine({url:e.adaptableOptions.configServerOptions.configServerUrl,userName:e.adaptableOptions.userName,adaptableId:e.adaptableOptions.adaptableId,loadState:e.adaptableOptions.stateOptions.loadState,persistState:e.adaptableOptions.stateOptions.persistState}):c.createEngine({adaptableId:e.adaptableOptions.adaptableId,userName:e.adaptableOptions.userName,predefinedConfig:e.adaptableOptions.predefinedConfig,loadState:e.adaptableOptions.stateOptions.loadState,persistState:e.adaptableOptions.stateOptions.persistState});var d,s=[ne.SYSTEM,ne.GRID,ne.POPUP,ne.TEAM_SHARING,ne.PLUGINS,ne.ENTITLEMENTS,ne.SYSTEM_FILTER,ne.ACTION_COLUMN,ne.NAMED_FILTER,ne.SPARKLINE_COLUMN],C=S.mergeReducer(_e,t.LOAD_STATE);d=function(e){return e},this.TheStore=i.createStore((function(t,o){var i=void 0===t,d=C(t,o);if(r.emitter.emit(o.type,{action:o,state:t,newState:d}),!Le[o.type]&&!i){var u=n.__assign({},d);s.forEach((function(e){delete u[e]})),a.save(e.adaptableOptions.stateOptions.saveState(u))}return d}),d(i.applyMiddleware(Ie(e),me(e),he(e)))),this.Load=a.load().then((function(a){a&&r.loadStartOnStartup&&r.TheStore.dispatch(t.LoadState(e.adaptableOptions.stateOptions.applyState(a)))})).then((function(){return r.TheStore.dispatch(t.InitState())}),(function(e){oe.LoggingHelper.LogAdaptableError("Failed to load previous Adaptable State : ",e),r.TheStore.dispatch(t.InitState()),r.TheStore.dispatch(l.PopupShowAlert({Header:"Configuration",Msg:"Error loading your configuration:"+e,AlertDefinition:ie.ObjectFactory.CreateInternalAlertDefinitionForMessages(o.MessageType.Error)}))}))};t.AdaptableStore=ye;var Ie=function(e){return function(t){return function(a){return function(r){if(!e.isInitialised||!e.AuditLogService.isAuditStateChangesEnabled)return a(r);if(Te.ArrayExtensions.ContainsItem(Oe(),r.type))return a(r);if(Te.ArrayExtensions.ContainsItem(fe(),r.type)){if(e.AuditLogService.isAuditInternalStateChangesEnabled){var n=t.getState(),o=a(r),i=t.getState(),u=e.AuditLogService.convertAuditMessageToText(d.diff(n,i)),c={name:"Internal State Changes",actionType:r.type,state:null,diffInfo:u};return e.AuditLogService.addInternalStateChangeAuditLog(c),o}return a(r)}if(!e.AuditLogService.isAuditUserStateChangesEnabled)return a(r);var S=t.getState(),l=a(r),s=t.getState(),_=e.AuditLogService.convertAuditMessageToText(d.diff(S,s));switch(r.type){case U.ADVANCED_SEARCH_SELECT:var y=r,f={name:ae.AdvancedSearchStrategyId,actionType:r.type,state:s.AdvancedSearch,diffInfo:_,propertyName:ue.CURRENT_ADVANCED_SEARCH_STATE_PROPERTY,oldValue:S.AdvancedSearch.CurrentAdvancedSearch,newValue:y.selectedSearchName};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case U.ADVANCED_SEARCH_ADD:y=r,f={name:ae.AdvancedSearchStrategyId,actionType:r.type,state:s.AdvancedSearch,diffInfo:_,objectChanged:y.advancedSearch,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case U.ADVANCED_SEARCH_EDIT:y=r,f={name:ae.AdvancedSearchStrategyId,actionType:r.type,state:s.AdvancedSearch,diffInfo:_,objectChanged:y.advancedSearch,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case U.ADVANCED_SEARCH_DELETE:y=r,f={name:ae.AdvancedSearchStrategyId,actionType:r.type,state:s.AdvancedSearch,diffInfo:_,objectChanged:y.advancedSearch,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case E.ALERT_DEFIINITION_ADD:y=r,f={name:ae.AlertStrategyId,actionType:r.type,state:s.Alert,diffInfo:_,objectChanged:y.alertDefinition,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case E.ALERT_DEFIINITION_EDIT:y=r,f={name:ae.AlertStrategyId,actionType:r.type,state:s.Alert,diffInfo:_,objectChanged:y.alertDefinition,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case E.ALERT_DEFIINITION_DELETE:y=r,f={name:ae.AlertStrategyId,actionType:r.type,state:s.Alert,diffInfo:_,objectChanged:y.alertDefinition,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case g.BULK_UPDATE_CHANGE_VALUE:y=r,f={name:ae.BulkUpdateStrategyId,actionType:r.type,state:s.BulkUpdate,diffInfo:_,propertyName:ue.BULK_UPDATE_VALUE_STATE_PROPERTY,oldValue:S.BulkUpdate.BulkUpdateValue,newValue:y.bulkUpdateValue};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case A.CALCULATEDCOLUMN_ADD:y=r,f={name:ae.CalculatedColumnStrategyId,actionType:r.type,state:s.CalculatedColumn,diffInfo:_,objectChanged:y.calculatedColumn,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case A.CALCULATEDCOLUMN_EDIT:y=r,f={name:ae.CalculatedColumnStrategyId,actionType:r.type,state:s.CalculatedColumn,diffInfo:_,objectChanged:y.calculatedColumn,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case A.CalculatedColumnDelete:y=r,f={name:ae.CalculatedColumnStrategyId,actionType:r.type,state:s.CalculatedColumn,diffInfo:_,objectChanged:y.calculatedColumn,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case R.CALENDAR_SELECT:y=r,f={name:ae.CalendarStrategyId,actionType:r.type,state:s.Calendar,diffInfo:_,propertyName:ue.CURRENT_CALENDAR_STATE_PROPERTY,oldValue:S.Calendar.CurrentCalendar,newValue:y.selectedCalendarName};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case q.CELL_SUMMARY_CHANGE_OPERATION:y=r,f={name:ae.CellSummaryStrategyId,actionType:r.type,state:s.CellSummary,diffInfo:_,propertyName:ue.SUMMARY_OPERATION_STATE_PROPERTY,oldValue:S.CellSummary.SummaryOperation,newValue:y.SummaryOperation};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case W.CELL_VALIDATION_ADD:y=r,f={name:ae.CellValidationStrategyId,actionType:r.type,state:s.CellValidation,diffInfo:_,objectChanged:y.cellValidationRule,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case W.CELL_VALIDATION_EDIT:y=r,f={name:ae.CellValidationStrategyId,actionType:r.type,state:s.CellValidation,diffInfo:_,objectChanged:y.cellValidationRule,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case W.CELL_VALIDATION_DELETE:y=r,f={name:ae.CellValidationStrategyId,actionType:r.type,state:s.CellValidation,diffInfo:_,objectChanged:y.cellValidationRule,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case C.CHART_DEFINITION_SELECT:y=r,f={name:ae.ChartStrategyId,actionType:r.type,state:s.Chart,diffInfo:_,propertyName:ue.CURRENT_CHART_NAME_STATE_PROPERTY,oldValue:S.Chart.CurrentChartName,newValue:y.chartName};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case C.CHART_DEFINITION_ADD:y=r,f={name:ae.ChartStrategyId,actionType:r.type,state:s.Chart,diffInfo:_,objectChanged:y.chartDefinition,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case C.CHART_DEFINITION_EDIT:y=r,f={name:ae.ChartStrategyId,actionType:r.type,state:s.Chart,diffInfo:_,objectChanged:y.chartDefinition,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case C.CHART_DEFINITION_DELETE:y=r,f={name:ae.ChartStrategyId,actionType:r.type,state:s.Chart,diffInfo:_,objectChanged:y.chartDefinition,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case B.COLUMN_CATEGORY_ADD:y=r,f={name:ae.ColumnCategoryStrategyId,actionType:r.type,state:s.ColumnCategory,diffInfo:_,objectChanged:y.columnCategory,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case B.COLUMN_CATEGORY_EDIT:y=r,f={name:ae.ColumnCategoryStrategyId,actionType:r.type,state:s.ColumnCategory,diffInfo:_,objectChanged:y.columnCategory,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case B.COLUMN_CATEGORY_DELETE:y=r,f={name:ae.ColumnCategoryStrategyId,actionType:r.type,state:s.ColumnCategory,diffInfo:_,objectChanged:y.columnCategory,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case v.COLUMN_FILTER_ADD:y=r,f={name:ae.ColumnFilterStrategyId,actionType:r.type,state:s.ColumnFilter,diffInfo:_,objectChanged:y.columnFilter,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case v.COLUMN_FILTER_EDIT:y=r,f={name:ae.ColumnFilterStrategyId,actionType:r.type,state:s.ColumnFilter,diffInfo:_,objectChanged:y.columnFilter,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case v.COLUMN_FILTER_CLEAR:f={name:ae.ColumnFilterStrategyId,actionType:r.type,state:s.ColumnFilter,diffInfo:_,objectChanged:void 0,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case v.COLUMN_FILTER_CLEAR_ALL:f={name:ae.ColumnFilterStrategyId,actionType:r.type,state:s.ColumnFilter,diffInfo:_,objectChanged:null,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case O.CONDITIONAL_STYLE_ADD:y=r,f={name:ae.ConditionalStyleStrategyId,actionType:r.type,state:s.ConditionalStyle,diffInfo:_,objectChanged:y.conditionalStyle,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case O.CONDITIONAL_STYLE_EDIT:y=r,f={name:ae.ConditionalStyleStrategyId,actionType:r.type,state:s.ConditionalStyle,diffInfo:_,objectChanged:y.conditionalStyle,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case O.CONDITIONAL_STYLE_DELETE:y=r,f={name:ae.ConditionalStyleStrategyId,actionType:r.type,state:s.ConditionalStyle,diffInfo:_,objectChanged:y.conditionalStyle,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case p.CUSTOM_SORT_ADD:y=r,f={name:ae.CustomSortStrategyId,actionType:r.type,state:s.CustomSort,diffInfo:_,objectChanged:y.customSort,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case p.CUSTOM_SORT_EDIT:y=r,f={name:ae.CustomSortStrategyId,actionType:r.type,state:s.CustomSort,diffInfo:_,objectChanged:y.customSort,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case p.CUSTOM_SORT_DELETE:y=r,f={name:ae.CustomSortStrategyId,actionType:r.type,state:s.CustomSort,diffInfo:_,objectChanged:y.customSort,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case P.DATA_SOURCE_SELECT:y=r,f={name:ae.DataSourceStrategyId,actionType:r.type,state:s.DataSource,diffInfo:_,propertyName:ue.CURRENT_DATA_SOURCE_STATE_PROPERTY,oldValue:S.DataSource.CurrentDataSource,newValue:y.SelectedDataSource};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case P.DATA_SOURCE_ADD:y=r,f={name:ae.DataSourceStrategyId,actionType:r.type,state:s.DataSource,diffInfo:_,objectChanged:y.dataSource,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case P.DATA_SOURCE_EDIT:y=r,f={name:ae.DataSourceStrategyId,actionType:r.type,state:s.DataSource,diffInfo:_,objectChanged:y.dataSource,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case P.DATA_SOURCE_DELETE:y=r,f={name:ae.DataSourceStrategyId,actionType:r.type,state:s.DataSource,diffInfo:_,objectChanged:y.dataSource,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case h.REPORT_SELECT:y=r,f={name:ae.ExportStrategyId,actionType:r.type,state:s.Export,diffInfo:_,propertyName:ue.CURRENT_REPORT_STATE_PROPERTY,oldValue:S.Export.CurrentReport,newValue:y.SelectedReport};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case h.REPORT_ADD:y=r,f={name:ae.ExportStrategyId,actionType:r.type,state:s.Export,diffInfo:_,objectChanged:y.report,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case h.REPORT_EDIT:y=r,f={name:ae.ExportStrategyId,actionType:r.type,state:s.Export,diffInfo:_,objectChanged:y.report,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case h.REPORT_DELETE:y=r,f={name:ae.ExportStrategyId,actionType:r.type,state:s.Export,diffInfo:_,objectChanged:y.report,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case m.FLASHING_CELL_CHANGE_UP_COLOR:y=r,f={name:ae.FlashingCellsStrategyId,actionType:r.type,state:s.FlashingCell,diffInfo:_,propertyName:ue.FLASHING_CELL_DEFAULT_UP_COLOR_STATE_PROPERTY,oldValue:S.FlashingCell.DefaultUpColor,newValue:y.UpColor};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case m.FLASHING_CELL_CHANGE_DOWN_COLOR:y=r,f={name:ae.FlashingCellsStrategyId,actionType:r.type,state:s.FlashingCell,diffInfo:_,propertyName:ue.FLASHING_CELL_DEFAULT_DOWN_COLOR_STATE_PROPERTY,oldValue:S.FlashingCell.DefautDownColor,newValue:y.DownColor};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case m.FLASHING_CELL_CHANGE_DURATION:y=r,f={name:ae.FlashingCellsStrategyId,actionType:r.type,state:s.FlashingCell,diffInfo:_,propertyName:ue.FLASHING_CELL_DEFAULT_DURATION_STATE_PROPERTY,oldValue:S.FlashingCell.DefaultDuration.toString(),newValue:y.NewFlashDuration.toString()};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case M.FORMAT_COLUMN_ADD:y=r,f={name:ae.FormatColumnStrategyId,actionType:r.type,state:s.FormatColumn,diffInfo:_,objectChanged:y.formatColumn,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case M.FORMAT_COLUMN_EDIT:y=r,f={name:ae.FormatColumnStrategyId,actionType:r.type,state:s.FormatColumn,diffInfo:_,objectChanged:y.formatColumn,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case M.FORMAT_COLUMN_DELETE:y=r,f={name:ae.FormatColumnStrategyId,actionType:r.type,state:s.FormatColumn,diffInfo:_,objectChanged:y.formatColumn,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case x.FREE_TEXT_COLUMN_ADD:y=r,f={name:ae.FreeTextColumnStrategyId,actionType:r.type,state:s.FreeTextColumn,diffInfo:_,objectChanged:y.freeTextColumn,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case x.FREE_TEXT_COLUMN_EDIT:y=r,f={name:ae.FreeTextColumnStrategyId,actionType:r.type,state:s.FreeTextColumn,diffInfo:_,objectChanged:y.freeTextColumn,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case x.FREE_TEXT_COLUMN_DELETE:y=r,f={name:ae.FreeTextColumnStrategyId,actionType:r.type,state:s.FreeTextColumn,diffInfo:_,objectChanged:y.freeTextColumn,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case Y.LAYOUT_SELECT:y=r,f={name:ae.LayoutStrategyId,actionType:r.type,state:s.Layout,diffInfo:_,propertyName:ue.CURRENT_LAYOUT_STATE_PROPERTY,oldValue:S.Layout.CurrentLayout,newValue:y.LayoutName};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case Y.LAYOUT_SAVE:y=r,f={name:ae.LayoutStrategyId,actionType:r.type,state:s.Layout,diffInfo:_,objectChanged:y.layout,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case Y.LAYOUT_ADD:y=r,f={name:ae.LayoutStrategyId,actionType:r.type,state:s.Layout,diffInfo:_,objectChanged:y.layout,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case Y.LAYOUT_EDIT:y=r,f={name:ae.LayoutStrategyId,actionType:r.type,state:s.Layout,diffInfo:_,objectChanged:y.layout,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case Y.LAYOUT_DELETE:y=r,f={name:ae.LayoutStrategyId,actionType:r.type,state:s.Layout,diffInfo:_,objectChanged:y.layout,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case X.PERCENT_BAR_ADD:y=r,f={name:ae.PercentBarStrategyId,actionType:r.type,state:s.PercentBar,diffInfo:_,objectChanged:y.percentBar,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case X.PERCENT_BAR_EDIT:y=r,f={name:ae.PercentBarStrategyId,actionType:r.type,state:s.PercentBar,diffInfo:_,objectChanged:y.percentBar,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case X.PERCENT_BAR_DELETE:y=r,f={name:ae.PercentBarStrategyId,actionType:r.type,state:s.PercentBar,diffInfo:_,objectChanged:y.percentBar,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case w.SPARKLINE_COLUMNS_ADD:y=r,f={name:ae.SparklineStrategyId,actionType:r.type,state:s.SparklineColumn,diffInfo:_,objectChanged:y.sparklineColumn,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case w.SPARKLINE_COLUMNS_EDIT:y=r,f={name:ae.SparklineStrategyId,actionType:r.type,state:s.SparklineColumn,diffInfo:_,objectChanged:y.sparklineColumn,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case w.SPARKLINE_COLUMNS_DELETE:y=r,f={name:ae.SparklineStrategyId,actionType:r.type,state:s.SparklineColumn,diffInfo:_,objectChanged:y.sparklineColumn,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case I.PLUS_MINUS_RULE_ADD:y=r,f={name:ae.PlusMinusStrategyId,actionType:r.type,state:s.PlusMinus,diffInfo:_,objectChanged:y.plusMinusRule,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case I.PLUS_MINUS_RULE_EDIT:y=r,f={name:ae.PlusMinusStrategyId,actionType:r.type,state:s.PlusMinus,diffInfo:_,objectChanged:y.plusMinusRule,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case I.PLUS_MINUS_RULE_DELETE:y=r,f={name:ae.PlusMinusStrategyId,actionType:r.type,state:s.PlusMinus,diffInfo:_,objectChanged:y.plusMinusRule,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case D.QUICK_SEARCH_APPLY:y=r,f={name:ae.QuickSearchStrategyId,actionType:r.type,state:s.QuickSearch,diffInfo:_,propertyName:ue.QUICK_SEARCH_TEXT_STATE_PROPERTY,oldValue:S.QuickSearch.QuickSearchText,newValue:y.quickSearchText};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case D.QUICK_SEARCH_SET_DISPLAY:y=r,f={name:ae.QuickSearchStrategyId,actionType:r.type,state:s.QuickSearch,diffInfo:_,propertyName:ue.QUICK_SEARCH_DISPLAY_ACTION_STATE_PROPERTY,oldValue:S.QuickSearch.DisplayAction,newValue:y.DisplayAction};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case D.QUICK_SEARCH_SET_STYLE:y=r,f={name:ae.QuickSearchStrategyId,actionType:r.type,state:s.QuickSearch,diffInfo:_,propertyName:ue.QUICK_SEARCH_STYLE_STATE_PROPERTY,oldValue:e.AuditLogService.convertAuditMessageToText(S.QuickSearch.Style),newValue:e.AuditLogService.convertAuditMessageToText(y.style)};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case F.REMINDER_SCHEDULE_ADD:y=r,f={name:ae.ReminderStrategyId,actionType:r.type,state:s.Reminder,diffInfo:_,objectChanged:y.reminderSchedule,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case F.REMINDER_SCHEDULE_EDIT:y=r,f={name:ae.ReminderStrategyId,actionType:r.type,state:s.Reminder,diffInfo:_,objectChanged:y.reminderSchedule,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case F.REMINDER_SCHEDULE_DELETE:y=r,f={name:ae.ReminderStrategyId,actionType:r.type,state:s.Reminder,diffInfo:_,objectChanged:y.reminderSchedule,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case L.SHORTCUT_ADD:y=r,f={name:ae.ShortcutStrategyId,actionType:r.type,state:s.Shortcut,diffInfo:_,objectChanged:y.shortcut,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case L.SHORTCUT_EDIT:y=r,f={name:ae.ShortcutStrategyId,actionType:r.type,state:s.Shortcut,diffInfo:_,objectChanged:y.shortcut,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case L.SHORTCUT_DELETE:y=r,f={name:ae.ShortcutStrategyId,actionType:r.type,state:s.Shortcut,diffInfo:_,objectChanged:y.shortcut,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case T.SMARTEDIT_CHANGE_VALUE:y=r,f={name:ae.SmartEditStrategyId,actionType:r.type,state:s.SmartEdit,diffInfo:_,propertyName:ue.SMART_EDIT_VALUE_STATE_PROPERTY,oldValue:S.SmartEdit.SmartEditValue.toString(),newValue:y.value.toString()};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case T.SMARTEDIT_CHANGE_OPERATION:y=r,f={name:ae.SmartEditStrategyId,actionType:r.type,state:s.SmartEdit,diffInfo:_,propertyName:ue.SMART_EDIT_MATH_OPERATION_STATE_PROPERTY,oldValue:S.SmartEdit.MathOperation,newValue:y.MathOperation};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case j.THEME_SELECT:y=r,f={name:ae.ThemeStrategyId,actionType:r.type,state:s.Theme,diffInfo:_,propertyName:ue.CURRENT_THEME_STATE_PROPERTY,oldValue:S.Theme.CurrentTheme,newValue:y.type};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case N.USER_FILTER_ADD:y=r,f={name:ae.UserFilterStrategyId,actionType:r.type,state:s.UserFilter,diffInfo:_,objectChanged:y.userFilter,stateObjectChangeType:ge.StateObjectChangeType.Created};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case N.USER_FILTER_EDIT:y=r,f={name:ae.UserFilterStrategyId,actionType:r.type,state:s.UserFilter,diffInfo:_,objectChanged:y.userFilter,stateObjectChangeType:ge.StateObjectChangeType.Updated};return e.AuditLogService.addUserStateChangeAuditLog(f),l;case N.USER_FILTER_DELETE:y=r,f={name:ae.UserFilterStrategyId,actionType:r.type,state:s.UserFilter,diffInfo:_,objectChanged:y.userFilter,stateObjectChangeType:ge.StateObjectChangeType.Deleted};return e.AuditLogService.addUserStateChangeAuditLog(f),l;default:c={name:"User State Changes",actionType:r.type,state:null,diffInfo:_};return e.AuditLogService.addUserStateChangeAuditLog(c),l}}}}},he=function(e){return function(t){return function(a){return function(r){if(!e.AuditLogService.isAuditFunctionEventsEnabled)return a(r);if(Te.ArrayExtensions.NotContainsItem(Re(),r.type))return a(r);var n=t.getState();switch(r.type){case U.ADVANCED_SEARCH_SELECT:var o=r,i=n.AdvancedSearch.AdvancedSearches.find((function(e){return e.Name==o.selectedSearchName})),d={name:ae.AdvancedSearchStrategyId,action:r.type,info:o.selectedSearchName,data:i};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case R.CALENDAR_SELECT:var u=r;d={name:ae.CalendarStrategyId,action:r.type,info:ue.CURRENT_CALENDAR_STATE_PROPERTY,data:u.selectedCalendarName};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case C.CHART_DEFINITION_SELECT:var c=r,S=n.Chart.ChartDefinitions.find((function(e){return e.Name==c.chartName}));d={name:ae.ChartStrategyId,action:r.type,info:c.chartName,data:S};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case P.DATA_SOURCE_SELECT:var l=r,s=n.DataSource.DataSources.find((function(e){return e.Name==l.SelectedDataSource}));d={name:ae.DataSourceStrategyId,action:r.type,info:l.SelectedDataSource,data:s};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case h.EXPORT_APPLY:u=r,d={name:ae.ExportStrategyId,action:r.type,info:u.Report.Name,data:u.Report};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case m.FLASHING_CELL_SELECT:u=r,d={name:ae.FlashingCellsStrategyId,action:r.type,info:e.AuditLogService.convertAuditMessageToText(u.FlashingCell),data:u.FlashingCell};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case m.FLASHING_CELL_SELECT_ALL:u=r,d={name:ae.FlashingCellsStrategyId,action:r.type,info:e.AuditLogService.convertAuditMessageToText(u.FlashingCells),data:u.FlashingCells};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case x.FREE_TEXT_COLUMN_ADD_EDIT_STORED_VALUE:u=r,d={name:ae.FreeTextColumnStrategyId,action:r.type,info:u.FreeTextColumn.ColumnId,data:u.FreeTextStoredValue};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case D.QUICK_SEARCH_APPLY:u=r,d={name:ae.QuickSearchStrategyId,action:r.type,info:u.quickSearchText,data:n.QuickSearch};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case D.QUICK_SEARCH_SET_DISPLAY:u=r,d={name:ae.QuickSearchStrategyId,action:r.type,info:u.DisplayAction,data:n.QuickSearch};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case D.QUICK_SEARCH_SET_STYLE:u=r,d={name:ae.QuickSearchStrategyId,action:r.type,info:u.style.ClassName,data:n.QuickSearch};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case I.PLUS_MINUS_APPLY:u=r,d={name:ae.PlusMinusStrategyId,action:r.type,info:"KeyPressed:",data:u.GridCells};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case j.THEME_SELECT:u=r,d={name:ae.ThemeStrategyId,action:r.type,info:ue.CURRENT_THEME_STATE_PROPERTY,data:u.Theme};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case v.COLUMN_FILTER_ADD:u=r,d={name:ae.ColumnFilterStrategyId,action:r.type,info:"Column Filter Applied",data:{Column:u.columnFilter.ColumnId,ColumnFilter:se.ExpressionHelper.ConvertExpressionToString(u.columnFilter.Filter,t.getState().Grid.Columns)}};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case v.COLUMN_FILTER_EDIT:u=r,d={name:ae.ColumnFilterStrategyId,action:r.type,info:"Column Filter Updated",data:{Column:u.columnFilter.ColumnId,ColumnFilter:se.ExpressionHelper.ConvertExpressionToString(u.columnFilter.Filter,t.getState().Grid.Columns)}};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);case v.COLUMN_FILTER_CLEAR:u=r,d={name:ae.ColumnFilterStrategyId,action:r.type,info:"Column Filter Cleared",data:{Column:u.columnFilter}};return e.AuditLogService.addFunctionAppliedAuditLog(d),a(r);default:return a(r)}}}}},me=function(e){return function(a){return function(r){return function(n){switch(n.type){case U.ADVANCED_SEARCH_SELECT:var i=r(n);return e.applyGridFiltering(),i;case U.ADVANCED_SEARCH_DELETE:var d=n,u=a.getState().AdvancedSearch.CurrentAdvancedSearch;i=r(n);return u==d.advancedSearch.Name&&e.applyGridFiltering(),i;case y.SYSTEM_ALERT_DELETE:var c=n;i=r(n);if(c.Alert.AlertDefinition.AlertProperties.HighlightCell&&c.Alert.DataChangedInfo){var S=c.Alert.DataChangedInfo.RowNode;e.refreshCells([S],[c.Alert.DataChangedInfo.ColumnId])}return i;case y.SYSTEM_ALERT_DELETE_ALL:var s=n;i=r(n);return s.Alerts.forEach((function(t){if(t.AlertDefinition.AlertProperties.HighlightCell&&t.DataChangedInfo){var a=t.DataChangedInfo.RowNode;e.refreshCells([a],[t.DataChangedInfo.ColumnId])}})),i;case y.SYSTEM_UPDATED_ROW_DELETE:var E=n,m=(i=r(n),e.getRowNodeForPrimaryKey(E.updatedRowInfo.primaryKeyValue));return e.redrawRow(m),i;case y.SYSTEM_UPDATED_ROW_DELETE_ALL:var f=n;i=r(n);return f.updatedRowInfos.forEach((function(t){var a=e.getRowNodeForPrimaryKey(t.primaryKeyValue);e.redrawRow(a)})),i;case y.CALCULATEDCOLUMN_IS_EXPRESSION_VALID:var R=e.CalculatedColumnExpressionService.IsExpressionValid(n.expression);return R.IsValid?a.dispatch(y.CalculatedColumnSetErrorMessage(null)):a.dispatch(y.CalculatedColumnSetErrorMessage(R.ErrorMsg)),r(n);case A.CALCULATEDCOLUMN_ADD:var D=r(n),P=n.calculatedColumn;return e.addCalculatedColumnToGrid(P),D;case A.CALCULATEDCOLUMN_DELETE:var b=n;return e.removeCalculatedColumnFromGrid(b.calculatedColumn.ColumnId),D=r(n);case A.CALCULATEDCOLUMN_EDIT:var F=n;return e.editCalculatedColumnInGrid(F.calculatedColumn),D=r(n);case x.FREE_TEXT_COLUMN_ADD:var j=n;return e.addFreeTextColumnToGrid(j.freeTextColumn),D=r(n);case x.FREE_TEXT_COLUMN_EDIT:var H=n;return e.editFreeTextColumnInGrid(H.freeTextColumn),D=r(n);case x.FREE_TEXT_COLUMN_DELETE:var V=n;return e.removeFreeTextColumnFromGrid(V.freeTextColumn.ColumnId),D=r(n);case B.COLUMN_CATEGORY_DELETE:D=r(n);var G=n;return a.getState().ConditionalStyle.ConditionalStyles.forEach((function(e){e.ColumnCategoryId==G.columnCategory.ColumnCategoryId&&a.dispatch(O.ConditionalStyleDelete(e))})),D;case C.CHART_DEFINITION_DELETE:D=r(n);a.dispatch(y.ChartSetChartVisibility(Ee.ChartVisibility.Hidden));var w=a.getState().Chart.CurrentChartName;if(le.StringExtensions.IsNotNullOrEmpty(w)){var k=n;k.chartDefinition&&w==k.chartDefinition.Name&&a.dispatch(C.ChartDefinitionSelect(""))}return D;case C.CHART_DEFINITION_SELECT:var K=n;return le.StringExtensions.IsNullOrEmpty(K.chartName)&&a.dispatch(y.ChartSetChartVisibility(Ee.ChartVisibility.Hidden)),D=r(n);case y.CHART_SET_CHART_VISIBILITY:return n.ChartVisibility==Ee.ChartVisibility.Maximised&&a.dispatch(l.PopupHideScreen()),r(n);case Y.LAYOUT_SELECT:D=r(n);var Q=a.getState().Layout,X=Q.Layouts.find((function(e){return e.Name==Q.CurrentLayout}));if(X){null==X.AdaptableGridInfo&&(X.AdaptableGridInfo={CurrentColumns:X.Columns,CurrentColumnSorts:e.LayoutService.getSortsForLayout(X),ExpandedRowGroupKeys:e.api.gridApi.getExpandRowGroupsKeys()});var J=null==X.VendorGridInfo;J&&(e.setGroupedColumns(X.GroupedColumns),e.setPivotingDetails(X.PivotDetails));var q=a.getState().Grid,z=[];if(X.AdaptableGridInfo.CurrentColumns.forEach((function(e){var t=de.ColumnHelper.getColumnFromId(e,q.Columns);t?z.push(t):oe.LoggingHelper.LogAdaptableWarning("Column '"+e+"' not found while selecting layout: "+X)})),a.dispatch(y.SetNewColumnListOrder(z)),a.dispatch(_.GridSetSort(X.AdaptableGridInfo.CurrentColumnSorts)),e.setColumnSort(X.AdaptableGridInfo.CurrentColumnSorts),e.setPivotMode(X.PivotDetails,X.VendorGridInfo),e.setVendorGridLayoutInfo(X.VendorGridInfo),J){var $=X.Name==ue.DEFAULT_LAYOUT?e.getVendorGridDefaultLayoutInfo():e.getVendorGridLayoutInfo(X.AdaptableGridInfo.CurrentColumns);X.VendorGridInfo=$,a.dispatch(Y.LayoutSave(X))}e.setLayout(X)}return D;case Y.LAYOUT_DELETE:D=r(n);var ne=a.getState().Layout;return(Dt=ne.Layouts.find((function(e){return e.Name==ne.CurrentLayout})))||a.dispatch(Y.LayoutSelect(ue.DEFAULT_LAYOUT)),D;case Y.LAYOUT_SAVE:D=r(n);var Ce=n,ge=ce.Helper.cloneObject(Ce.layout);null==ge.AdaptableGridInfo&&(ge.AdaptableGridInfo={CurrentColumns:ge.Columns,CurrentColumnSorts:ge.ColumnSorts,ExpandedRowGroupKeys:e.api.gridApi.getExpandRowGroupsKeys()}),null==ge.VendorGridInfo&&(e.setGroupedColumns(ge.GroupedColumns),e.setPivotingDetails(ge.PivotDetails));var pe=e.api.layoutApi.getAllLayout(),Ae=null!=pe.find((function(e){return e.Uuid==ge.Uuid}));if(ge.Name==ue.DEFAULT_LAYOUT){var Le=pe.find((function(e){return e.Name==ue.DEFAULT_LAYOUT}));Le&&(ge.Uuid=Le.Uuid,Ae=!0)}if(Ae){$=ge.Name==ue.DEFAULT_LAYOUT?e.getVendorGridDefaultLayoutInfo():e.getVendorGridLayoutInfo(ge.AdaptableGridInfo.CurrentColumns);ge.VendorGridInfo=$,a.dispatch(Y.LayoutEdit(ge))}else a.dispatch(Y.LayoutAdd(ge));return D;case Y.LAYOUT_RESTORE:D=r(n);var _e=n,ye=ce.Helper.cloneObject(_e.layout);return ye.VendorGridInfo=null,ye.AdaptableGridInfo=null,null==ye.GroupedColumns&&(ye.GroupedColumns=[]),e.setGroupedColumns(ye.GroupedColumns),e.setPivotingDetails(ye.PivotDetails),a.dispatch(Y.LayoutEdit(ye)),a.dispatch(Y.LayoutSelect(ye.Name)),D;case y.SMARTEDIT_CHECK_CELL_SELECTION:var Ie=e.strategies.get(ae.SmartEditStrategyId),he=a.getState(),me=(D=r(n),Ie.CheckCorrectCellSelection());if((Ue=he.Popup.ScreenPopup).ComponentName!=re.ColumnChooserPopup)if(me.Alert)Ue.ComponentName==re.SmartEditPopup&&(a.dispatch(l.PopupHideScreen()),a.dispatch(l.PopupShowAlert(me.Alert))),a.dispatch(y.SmartEditSetValidSelection(!1));else{a.dispatch(y.SmartEditSetValidSelection(!0));var fe=Ie.BuildPreviewValues(he.SmartEdit.SmartEditValue,he.SmartEdit.MathOperation);a.dispatch(y.SmartEditSetPreview(fe))}return D;case T.SMARTEDIT_CHANGE_OPERATION:case T.SMARTEDIT_CHANGE_VALUE:case y.SMARTEDIT_FETCH_PREVIEW:D=r(n),Ie=e.strategies.get(ae.SmartEditStrategyId),he=a.getState(),me=Ie.BuildPreviewValues(he.SmartEdit.SmartEditValue,he.SmartEdit.MathOperation);return a.dispatch(y.SmartEditSetPreview(me)),D;case T.SMARTEDIT_APPLY:Ie=e.strategies.get(ae.SmartEditStrategyId);var Re=n,Oe=a.getState().System.SmartEditPreviewInfo,De=Se.PreviewHelper.GetCellInfosFromPreview(Oe,Re.bypassCellValidationWarnings);return Ie.ApplySmartEdit(De),a.dispatch(l.PopupHideScreen()),r(n);case y.BULK_UPDATE_CHECK_CELL_SELECTION:var Ue,Pe=e.strategies.get(ae.BulkUpdateStrategyId);he=a.getState(),D=r(n),me=Pe.checkCorrectCellSelection();return(Ue=he.Popup.ScreenPopup).ComponentName!=re.ColumnChooserPopup&&(me.Alert&&Ue.ComponentName==re.BulkUpdatePopup&&(a.dispatch(l.PopupHideScreen()),a.dispatch(l.PopupShowAlert(me.Alert))),a.dispatch(y.BulkUpdateSetValidSelection(me))),D;case g.BULK_UPDATE_CHANGE_VALUE:D=r(n),Pe=e.strategies.get(ae.BulkUpdateStrategyId),he=a.getState(),me=Pe.buildPreviewValues(he.BulkUpdate.BulkUpdateValue);return a.dispatch(y.BulkUpdateSetPreview(me)),D;case g.BULK_UPDATE_APPLY:Pe=e.strategies.get(ae.BulkUpdateStrategyId);var ve=n;Oe=a.getState().System.BulkUpdatePreviewInfo,De=Se.PreviewHelper.GetCellInfosFromPreview(Oe,ve.bypassCellValidationWarnings);return Pe.applyBulkUpdate(De),a.dispatch(l.PopupHideScreen()),r(n);case I.PLUS_MINUS_APPLY:var Ne=n;if(Te.ArrayExtensions.IsNotNullOrEmpty(Ne.GridCells))Ne.GridCells.map((function(t){return{OldValue:e.getDisplayValue(t.primaryKeyValue,t.columnId),NewValue:t.rawValue,ColumnId:t.columnId,PrimaryKeyValue:t.primaryKeyValue}})).forEach((function(t){e.setValue(t,!0)}));return a.dispatch(l.PopupHideScreen()),r(n);case h.EXPORT_APPLY:var be=n;return e.strategies.get(ae.ExportStrategyId).export(be.Report,be.ExportDestination),a.dispatch(l.PopupHideScreen()),r(n);case h.REPORT_DELETE:var Fe=n.report,je=a.getState().Export.CurrentReport;return Fe&&Fe.Name==je&&a.dispatch(h.ReportSelect(ue.EMPTY_STRING)),r(n);case ee.IPUSHPULL_LOGIN:var Me=n;return e.api.iPushPullApi.loginToIPushPull(Me.username,Me.password),r(n);case ee.IPUSHPULL_SEND_SNAPSHOT:var He=n;return e.strategies.get(ae.IPushPullStrategyId).sendSnapshot(He.iPushPullReport),a.dispatch(l.PopupHideScreen()),r(n);case ee.IPUSHPULL_START_LIVE_DATA:var Ve=n;return e.strategies.get(ae.IPushPullStrategyId).startLiveData(Ve.iPushPullReport),a.dispatch(l.PopupHideScreen()),r(n);case ee.IPUSHPULL_STOP_LIVE_DATA:return e.api.iPushPullApi.stopLiveData(),r(n);case ee.IPUSHPULL_ADD_PAGE:var Ge=n;return e.api.iPushPullApi.addNewIPushPullPage(Ge.folder,Ge.page),r(n);case y.REPORT_START_LIVE:i=r(n);var we=n;return e.ReportService.PublishLiveLiveDataChangedEvent(we.ReportDestination,"LiveDataStarted"),i;case y.REPORT_STOP_LIVE:var xe=n;i=r(n);return e.ReportService.PublishLiveLiveDataChangedEvent(xe.ReportDestination,"LiveDataStopped"),i;case te.GLUE42_LOGIN:var Ye=n;return e.api.glue42Api.loginToGlue42(Ye.username,Ye.password),r(n);case te.GLUE42_SEND_SNAPSHOT:var ke=n;return e.strategies.get(ae.Glue42StrategyId).sendSnapshot(ke.glue42Report),a.dispatch(l.PopupHideScreen()),r(n);case te.GLUE42_START_LIVE_DATA:var Be=n;return e.strategies.get(ae.Glue42StrategyId).startLiveData(Be.glue42Report),a.dispatch(l.PopupHideScreen()),r(n);case te.GLUE42_STOP_LIVE_DATA:return e.api.glue42Api.stopLiveData(),r(n);case N.USER_FILTER_CREATE_FROM_COLUMN_FILTER:var Ke=n,Qe=ie.ObjectFactory.CreateUserFilterFromColumnFilter(Ke.ColumnFilter,Ke.InputText);a.dispatch(N.UserFilterAdd(Qe));var We=Ke.ColumnFilter;return We.Filter=se.ExpressionHelper.CreateSingleColumnExpression(Qe.ColumnId,[],[],[Qe.Name],[]),a.dispatch(v.ColumnFilterEdit(We)),r(n);case Z.TEAMSHARING_SHARE:var Xe=n,Je=(D=r(n),new XMLHttpRequest);Je.onerror=function(e){return oe.LoggingHelper.LogAdaptableError("TeamSharing share error :"+e.message,Xe.Entity)},Je.ontimeout=function(){return oe.LoggingHelper.LogAdaptableWarning("TeamSharing share timeout",Xe.Entity)},Je.onload=function(){4==Je.readyState&&(200!=Je.status?(oe.LoggingHelper.LogAdaptableError("TeamSharing share error : "+Je.statusText,Xe.Entity),a.dispatch(l.PopupShowAlert({Header:"Team Sharing Error",Msg:"Couldn't share item: "+Je.statusText,AlertDefinition:ie.ObjectFactory.CreateInternalAlertDefinitionForMessages(o.MessageType.Error)}))):a.dispatch(l.PopupShowAlert({Header:"Team Sharing",Msg:"Item Shared Successfully",AlertDefinition:ie.ObjectFactory.CreateInternalAlertDefinitionForMessages(o.MessageType.Info)})))},Je.open("POST","/adaptableadaptable-teamsharing",!0),Je.setRequestHeader("Content-type","application/json");var qe={entity:Xe.Entity,user:e.adaptableOptions.userName,adaptableId:e.adaptableOptions.adaptableId,functionName:Xe.FunctionName,timestamp:new Date};return Je.send(JSON.stringify(qe)),D;case Z.TEAMSHARING_GET:D=r(n);var ze=new XMLHttpRequest;return ze.onerror=function(e){return oe.LoggingHelper.LogAdaptableError("TeamSharing get error :"+e.message)},ze.ontimeout=function(){return oe.LoggingHelper.LogAdaptableWarning("TeamSharing get timeout")},ze.onload=function(){4==ze.readyState&&(200!=ze.status?oe.LoggingHelper.LogAdaptableError("TeamSharing get error : "+ze.statusText):a.dispatch(Z.TeamSharingSet(JSON.parse(ze.responseText,(function(e,t){return"timestamp"==e?new Date(t):t})))))},ze.open("GET","/adaptableadaptable-teamsharing",!0),ze.setRequestHeader("Content-type","application/json"),ze.send(),D;case Z.TEAMSHARING_IMPORT_ITEM:D=r(n);var Ze=n,$e=void 0,et=!1;switch(Ze.FunctionName){case ae.CellValidationStrategyId:$e=W.CellValidationAdd(Ze.Entity);break;case ae.CalculatedColumnStrategyId:var tt=Ze.Entity;a.getState().CalculatedColumn.CalculatedColumns.findIndex((function(e){return e.ColumnId==tt.ColumnId}))>-1?(et=!0,$e=A.CalculatedColumnEdit(tt)):$e=A.CalculatedColumnAdd(tt);break;case ae.ConditionalStyleStrategyId:$e=O.ConditionalStyleAdd(Ze.Entity);break;case ae.CustomSortStrategyId:var at=Ze.Entity;a.getState().CustomSort.CustomSorts.find((function(e){return e.ColumnId==at.ColumnId}))?(et=!0,$e=p.CustomSortEdit(at)):$e=p.CustomSortAdd(at);break;case ae.FormatColumnStrategyId:var rt=Ze.Entity;a.getState().FormatColumn.FormatColumns.find((function(e){return e.ColumnId==rt.ColumnId}))?(et=!0,$e=M.FormatColumnEdit(rt)):$e=M.FormatColumnAdd(rt);break;case ae.PlusMinusStrategyId:var nt=Ze.Entity;$e=I.PlusMinusRuleAdd(nt);break;case ae.ShortcutStrategyId:var ot=Ze.Entity,it=void 0;(it=a.getState().Shortcut.Shortcuts)&&(it.find((function(e){return e.ShortcutKey==ot.ShortcutKey}))&&a.dispatch(L.ShortcutDelete(ot)),$e=L.ShortcutAdd(ot));break;case ae.UserFilterStrategyId:var dt=Ze.Entity;a.getState().UserFilter.UserFilters.find((function(e){return e.Name==dt.Name}))&&(et=!0),$e=N.UserFilterAdd(dt);break;case ae.AdvancedSearchStrategyId:var ut=Ze.Entity;a.getState().AdvancedSearch.AdvancedSearches.find((function(e){return e.Name==ut.Name}))&&(et=!0),$e=U.AdvancedSearchAdd(ut);break;case ae.LayoutStrategyId:var ct=Ze.Entity;-1!=a.getState().Layout.Layouts.findIndex((function(e){return e.Name==ct.Name}))&&(et=!0),$e=Y.LayoutSave(ct);break;case ae.ExportStrategyId:var St=Ze.Entity;a.getState().Export.Reports.findIndex((function(e){return e.Name==St.Name}))>-1&&(et=!0),$e=h.ReportAdd(St)}if(et){var lt={CancelButtonText:"Cancel Import",Header:"Overwrite Config",Msg:"This item will overwrite one of your config. Do you want to continue?",ConfirmButtonText:"Import",CancelAction:null,ConfirmAction:$e,ShowInputBox:!1,MessageType:o.MessageType.Warning};a.dispatch(l.PopupShowConfirmation(lt))}else $e?(a.dispatch($e),a.dispatch(l.PopupShowAlert({Header:"Team Sharing",Msg:"Item Successfully Imported",AlertDefinition:ie.ObjectFactory.CreateInternalAlertDefinitionForMessages(o.MessageType.Info)}))):(oe.LoggingHelper.LogAdaptableError("Unknown item type",Ze.Entity),a.dispatch(l.PopupShowAlert({Header:"Team Sharing Error:",Msg:"Item not recognized. Cannot import",AlertDefinition:ie.ObjectFactory.CreateInternalAlertDefinitionForMessages(o.MessageType.Error)})));return D;case y.SET_NEW_COLUMN_LIST_ORDER:var st=n;return e.setNewColumnListOrder(st.VisibleColumnList),r(n);case _.GRID_SET_VALUE_LIKE_EDIT:var Ct=n;return e.setValue(Ct.DataChangedInfo,!0),r(n);case _.GRID_SET_VALUE_LIKE_EDIT_BATCH:return n.DataChangedInfoBatch.forEach((function(t){e.setValue(t,!0)})),r(n);case _.GRID_HIDE_COLUMN:var Et=n,Tt=[].concat(a.getState().Grid.Columns.filter((function(e){return e.Visible}))),gt=Tt.findIndex((function(e){return e.ColumnId==Et.ColumnId}));return Tt.splice(gt,1),e.setNewColumnListOrder(Tt),r(n);case _.GRID_SELECT_COLUMN:var pt=n;return e.selectColumn(pt.ColumnId),r(n);case _.GRID_CREATE_CELLS_SUMMARY:var At=e.strategies.get(ae.CellSummaryStrategyId),Lt=(D=r(n),a.getState().Grid.SelectedCellInfo),_t=At.CreateCellSummary(Lt);return a.dispatch(_.GridSetCellSummary(_t)),D;case _.GRID_REFRESH_CELLS:var yt=n;i=r(n);return e.refreshCells(yt.rows,yt.columnIds),i;case l.POPUP_CONFIRM_PROMPT:var It=a.getState().Popup.PromptPopup.ConfirmAction;if(It){var ht=n.InputText;It.InputText=ht,a.dispatch(It)}return r(n);case l.POPUP_CONFIRM_CONFIRMATION:var mt=a.getState().Popup.ConfirmationPopup.ConfirmAction;return mt&&a.dispatch(mt),r(n);case l.POPUP_CANCEL_CONFIRMATION:var ft=a.getState().Popup.ConfirmationPopup.CancelAction;return ft&&a.dispatch(ft),r(n);case _.GRID_QUICK_FILTER_BAR_SHOW:return e.showQuickFilter(),r(n);case _.GRID_QUICK_FILTER_BAR_HIDE:return e.hideQuickFilter(),r(n);case _.FILTER_FORM_HIDE:return e.hideFilterForm(),r(n);case t.INIT_STATE:case t.RESET_STATE:D=r(n);e.setColumnIntoStore();var Rt=a.getState().Grid,Ot=a.getState().Layout,Dt=ue.DEFAULT_LAYOUT,Ut=ie.ObjectFactory.CreateDefaultLayout(Rt.Columns,[],e.getVendorGridDefaultLayoutInfo(),ue.DEFAULT_LAYOUT);return a.dispatch(Y.LayoutSave(Ut)),Ot.Layouts.length>0&&(Dt=Ot.CurrentLayout),a.getState().CalculatedColumn.CalculatedColumns.forEach((function(t){e.addCalculatedColumnToGrid(t)})),a.getState().FreeTextColumn.FreeTextColumns.forEach((function(t){e.addFreeTextColumnToGrid(t)})),e.api.internalApi.displayActionColumns(),Dt==ue.DEFAULT_LAYOUT&&a.dispatch(Y.LayoutSelect(Dt)),e.StrategyService.setStrategiesEntitlements(),e.StrategyService.createStrategyFunctionMenu(),D;default:return r(n)}}}}};function fe(){return[t.RESET_STATE,t.INIT_STATE,t.LOAD_STATE,y.SYSTEM_ALERT_ADD,y.SYSTEM_ALERT_DELETE,y.SYSTEM_ALERT_DELETE_ALL,y.SYSTEM_UPDATED_ROW_ADD,y.SYSTEM_UPDATED_ROW_DELETE,y.SYSTEM_UPDATED_ROW_DELETE_ALL,y.REPORT_START_LIVE,y.REPORT_STOP_LIVE,y.REPORT_SET_ERROR_MESSAGE,ee.IPUSHPULL_LOGIN,ee.IPUSHPULL_SET_LOGIN_ERROR_MESSAGE,ee.SET_IPUSHPULL_AVAILABLE_ON,ee.SET_IPUSHPULL_AVAILABLE_OFF,ee.IPUSHPULL_DOMAIN_PAGES_SET,ee.IPUSHPULL_DOMAIN_PAGES_CLEAR,ee.IPUSHPULL_LIVE_REPORT_SET,ee.IPUSHPULL_LIVE_REPORT_CLEAR,y.SMARTEDIT_CHECK_CELL_SELECTION,y.SMARTEDIT_FETCH_PREVIEW,y.SMARTEDIT_SET_VALID_SELECTION,y.SMARTEDIT_SET_PREVIEW,y.BULK_UPDATE_CHECK_CELL_SELECTION,y.BULK_UPDATE_SET_VALID_SELECTION,y.BULK_UPDATE_SET_PREVIEW,y.CHART_SET_CHART_DATA,y.CHART_SET_CHART_VISIBILITY,y.CALCULATEDCOLUMN_SET_ERROR_MESSAGE,y.CALCULATEDCOLUMN_IS_EXPRESSION_VALID,y.QUICK_SEARCH_SET_RANGE,y.QUICK_SEARCH_CLEAR_RANGE,y.QUICK_SEARCH_SET_VISIBLE_COLUMN_EXPRESSIONS,y.QUICK_SEARCH_CLEAR_VISIBLE_COLUMN_EXPRESSIONS,y.SET_NEW_COLUMN_LIST_ORDER,_.GRID_SELECT_COLUMN,_.GRID_SET_COLUMNS,_.GRID_ADD_COLUMN,_.GRID_EDIT_COLUMN,_.GRID_HIDE_COLUMN,_.GRID_SET_VALUE_LIKE_EDIT,_.GRID_SET_SORT,_.GRID_SET_SELECTED_CELLS,_.GRID_SET_SELECTED_ROWS,_.GRID_CREATE_CELLS_SUMMARY,_.GRID_SET_CELLS_SUMMARY,_.GRID_REFRESH_CELLS,_.FILTER_FORM_HIDE,_.GRID_QUICK_FILTER_BAR_SHOW,_.GRID_QUICK_FILTER_BAR_HIDE,_.SET_MAIN_MENUITEMS,_.SET_LIVE_REPORT_RUNNING_ON,_.SET_LIVE_REPORT_RUNNING_OFF,_.SET_PIVOT_MODE_ON,_.SET_PIVOT_MODE_OFF,l.POPUP_SHOW_SCREEN,l.POPUP_HIDE_SCREEN,l.POPUP_SHOW_LOADING,l.POPUP_HIDE_LOADING,l.POPUP_SHOW_ALERT,l.POPUP_HIDE_ALERT,l.POPUP_SHOW_PROMPT,l.POPUP_HIDE_PROMPT,l.POPUP_CONFIRM_PROMPT,l.POPUP_SHOW_CONFIRMATION,l.POPUP_CONFIRM_CONFIRMATION,l.POPUP_CANCEL_CONFIRMATION,l.POPUP_CLEAR_PARAM]}function Re(){return[U.ADVANCED_SEARCH_SELECT,R.CALENDAR_SELECT,C.CHART_DEFINITION_SELECT,P.DATA_SOURCE_SELECT,h.EXPORT_APPLY,x.FREE_TEXT_COLUMN_ADD_EDIT_STORED_VALUE,m.FLASHING_CELL_SELECT,m.FLASHING_CELL_SELECT_ALL,D.QUICK_SEARCH_APPLY,D.QUICK_SEARCH_SET_DISPLAY,D.QUICK_SEARCH_SET_STYLE,I.PLUS_MINUS_APPLY,j.THEME_SELECT,v.COLUMN_FILTER_ADD,v.COLUMN_FILTER_EDIT,v.COLUMN_FILTER_CLEAR]}function Oe(){return[t.RESET_STATE,t.INIT_STATE]}t.getNonPersistedReduxActions=fe,t.getFunctionAppliedReduxActions=Re,t.getPrimaryStateReduxActions=Oe}}]);